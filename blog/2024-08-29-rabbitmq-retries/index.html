
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RabbitMQ: Automatic retries with increasing delay</title>
    <link rel="stylesheet" href="/styles/style.css"/>
    <link rel="stylesheet" href="/styles/icons/iconism.css"/>
    
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" sizes="any"/>
  </head>
  <body>
    <header class="site-header">
      <div class="site-header-content">
        <a class="site-title" href="/">Andreas Mausch</a>
        <nav class="site-nav">
          <a href="#" class="menu-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              version="1.1"
              viewbox="0 0 16 16"
              width="100%"
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="1.5">
              <path d="m2.75 12.25h10.5m-10.5-4h10.5m-10.5-4h10.5"/>
            </svg>
          </a>
          <input id="nav-toggle" type="checkbox"/>
          <label class="nav-button-container" for="nav-toggle">
            <div class="nav-button"></div>
          </label>
          <ol class="site-nav-items">
            <a class="page-link" href="/"><li class="page-link-home">Home</li></a><a class="page-link" href="/whatsapp-viewer/"><li>WhatsApp Viewer</li></a><a class="page-link" href="/blog/"><li>Blog</li></a></ol>
        </nav>
      </div>
    </header>
    <div class="content">
      
<h1>RabbitMQ: Automatic retries with increasing delay</h1>
<div>
  <time class="postlist-date" datetime="2024-08-29T17:30:00.000+00:00">Aug 29, 2024</time>
  <ul class="tags">
    
        
          <li><a href="/blog/tags/delay">#delay</a></li>
        
    
        
          <li><a href="/blog/tags/devops">#devops</a></li>
        
    
        
          <li><a href="/blog/tags/message-queue">#message-queue</a></li>
        
    
        
    
        
          <li><a href="/blog/tags/rabbitmq">#rabbitmq</a></li>
        
    
        
          <li><a href="/blog/tags/retries">#retries</a></li>
        
    
  </ul>
</div>



<p>I have finally implemented a solution to automatic retries for
a RabbitMQ message queue.
I have pointed out the problem of retrying failed messages with a delay in a
<a href="/blog/2022-02-24-rabbitmq-cli-dead-letter-exchange-and-quorum-queue/">previous post</a>.</p>
<p>I am still sad there is no ready-to-use solution and you have to write code yourself
to make this work, but well. At least it is a solution.</p>
<p>You can find an example project in python here:
<a href="https://github.com/andreas-mausch/rabbitmq-with-retry-and-delay" class="external-link" target="_blank">https://github.com/andreas-mausch/rabbitmq-with-retry-and-delay</a></p>
<p>The concept is heavily inspired by
<a href="https://devcorner.digitalpress.blog/rabbitmq-retries-the-new-full-story/" class="external-link" target="_blank">https://devcorner.digitalpress.blog/rabbitmq-retries-the-new-full-story/</a>.</p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="686px" preserveAspectRatio="none" style="width:1449px;height:686px;background:#FFFFFF;" version="1.1" viewBox="0 0 1449 686" width="1449px" zoomAndPan="magnify"><defs/><g><!--cluster rabbitmq--><g id="cluster_rabbitmq"><polygon fill="none" points="9.5,175,9.5,175.2102,19.5075,174.5857,29.5149,175.1933,39.5224,175.3997,49.5299,174.2866,59.5373,174.9223,69.5448,174.5735,79.5522,174.6165,89.5597,174.9318,99.5672,174.3086,109.5746,175.5536,119.5821,174.3697,129.5896,174.8022,139.597,175.4319,149.6045,174.9142,159.6119,175.0682,169.6194,174.9681,179.6269,175.1785,189.6343,175.2391,199.6418,175.5857,209.6493,175.6711,219.6567,175.6793,229.6642,175.2546,239.6716,175.4636,249.6791,175.7022,259.6866,174.2788,269.694,175.6785,279.7015,174.7035,289.709,175.5338,299.7164,174.505,309.7239,174.9315,319.7313,175.7416,329.7388,174.9513,339.7463,175.1053,349.7537,175.3386,359.7612,175.4162,369.7687,174.9961,379.7761,175.2872,389.7836,174.4276,399.791,175.2844,409.7985,175.5482,419.806,175.4445,429.8134,175.613,439.8209,174.5169,449.8284,174.3478,459.8358,174.3786,469.8433,174.9411,479.8507,174.8035,489.8582,175.6814,499.8657,174.8253,509.8731,174.6569,519.8806,175.2283,529.8881,174.3332,539.8955,174.4809,549.903,175.649,559.9104,175.4357,569.9179,175.7345,579.9254,174.6782,589.9328,175.3192,599.9403,175.5904,609.9478,174.5276,619.9552,174.9041,629.9627,175.126,639.9701,175.6518,649.9776,174.9958,659.9851,175.4626,669.9925,174.4462,680,174.3227,690.0075,175.5036,700.0149,174.2831,710.0224,175.509,720.0299,175.2066,730.0373,174.7321,740.0448,174.6462,750.0522,175.4588,760.0597,174.7007,770.0672,175.5919,780.0746,174.4473,790.0821,175.6174,800.0896,175.4843,810.097,175.245,820.1045,175.0472,830.1119,175.7266,840.1194,175.6136,850.1269,175.1693,860.1343,175.2682,870.1418,174.8697,880.1493,175.7165,890.1567,175.1549,900.1642,175.1726,910.1716,174.3916,920.1791,174.5948,930.1866,175.5307,940.194,175.4298,950.2015,174.9571,960.209,174.6778,970.2164,174.7811,980.2239,174.3138,990.2313,175.4147,1000.2388,175.7396,1010.2463,175.5264,1020.2537,175.6949,1030.2612,174.8633,1040.2687,175.0872,1050.2761,174.6124,1060.2836,175.284,1070.291,175.2468,1080.2985,175.5524,1090.306,174.7703,1100.3134,174.8656,1110.3209,175.4435,1120.3284,175.5673,1130.3358,174.4875,1140.3433,174.8061,1150.3507,175.1493,1160.3582,174.3892,1170.3657,175.3534,1180.3731,175.258,1190.3806,174.8992,1200.3881,175.1422,1210.3955,175.7287,1220.403,174.6871,1230.4104,175.315,1240.4179,175.2856,1250.4254,175.1158,1260.4328,175.1409,1270.4403,175.1135,1280.4478,174.3758,1290.4552,174.5992,1300.4627,174.5385,1310.4701,175.0638,1320.4776,175.0881,1330.4851,175.1617,1340.4925,174.709,1350.5,175,1350.4914,174.9792,1350.8382,175.1094,1351.2807,175.4705,1351.6151,175.5707,1351.8523,175.4363,1352.2678,175.7322,1352.2453,175.7229,1352.2364,176.0122,1352.6495,176.4761,1352.8945,176.8705,1353.0213,177.2159,1353,177.5,1352.5644,177.5,1353.464,187.51,1352.2572,197.52,1353.2002,207.53,1352.7007,217.54,1353.0967,227.55,1353.2403,237.56,1353.4721,247.57,1352.2801,257.58,1353.4755,267.59,1353.1782,277.6,1353.3553,287.61,1353.7478,297.62,1353.0055,307.63,1353.1753,317.64,1353.2134,327.65,1353.1972,337.66,1352.9992,347.67,1353.7107,357.68,1352.3903,367.69,1353.5653,377.7,1352.376,387.71,1352.4597,397.72,1353.04,407.73,1353.0283,417.74,1352.5072,427.75,1353.4137,437.76,1353.1089,447.77,1353.7267,457.78,1353.6671,467.79,1352.5517,477.8,1352.6021,487.81,1352.8708,497.82,1353.3555,507.83,1353.403,517.84,1353.3012,527.85,1352.658,537.86,1353.6364,547.87,1353.6338,557.88,1352.9527,567.89,1352.7609,577.9,1352.5986,587.91,1352.7854,597.92,1353.1374,607.93,1352.9316,617.94,1352.5822,627.95,1353.4874,637.96,1352.5411,647.97,1353.5024,657.98,1353.4272,667.99,1353,678,1353.1145,678.0474,1353.0668,678.4419,1352.6314,678.6757,1352.4681,679.0223,1352.574,679.4804,1352.2678,679.7678,1352.1916,679.5839,1351.8844,679.8422,1351.5754,680.0962,1351.2159,680.2283,1350.8078,680.2432,1350.5,680.5,1350.5,680.457,1340.4925,681.2446,1330.4851,681.1485,1320.4776,679.9037,1310.4701,680.5785,1300.4627,679.9861,1290.4552,680.4737,1280.4478,680.793,1270.4403,680.9199,1260.4328,679.8353,1250.4254,680.9005,1240.4179,680.5084,1230.4104,679.9447,1220.403,680.0289,1210.3955,680.8266,1200.3881,680.7499,1190.3806,680.4836,1180.3731,679.8279,1170.3657,681.1581,1160.3582,680.1882,1150.3507,679.9719,1140.3433,680.4327,1130.3358,681.0897,1120.3284,681.1154,1110.3209,680.5351,1100.3134,680.3488,1090.306,680.6698,1080.2985,680.6862,1070.291,679.9922,1060.2836,680.914,1050.2761,681.0588,1040.2687,680.2842,1030.2612,680.0708,1020.2537,681.1746,1010.2463,680.521,1000.2388,680.4998,990.2313,680.799,980.2239,679.8543,970.2164,681.03,960.209,680.4846,950.2015,681.1688,940.194,680.2841,930.1866,680.909,920.1791,680.056,910.1716,680.745,900.1642,680.8793,890.1567,680.1727,880.1493,680.863,870.1418,679.9286,860.1343,680.0295,850.1269,681.1828,840.1194,681.1844,830.1119,681.0685,820.1045,680.1396,810.097,680.8842,800.0896,680.0279,790.0821,680.5582,780.0746,680.4987,770.0672,680.2376,760.0597,681.1159,750.0522,680.9433,740.0448,680.1792,730.0373,681.0266,720.0299,680.5919,710.0224,679.9164,700.0149,680.2667,690.0075,679.9747,680,680.3609,669.9925,679.871,659.9851,679.8998,649.9776,680.5703,639.9701,680.3796,629.9627,680.4414,619.9552,680.3568,609.9478,680.6673,599.9403,679.9449,589.9328,680.6601,579.9254,679.7569,569.9179,680.796,559.9104,681.0928,549.903,681.0221,539.8955,680.8613,529.8881,680.6922,519.8806,680.6057,509.8731,679.86,499.8657,680.9465,489.8582,680.8296,479.8507,680.3466,469.8433,680.4942,459.8358,680.2914,449.8284,680.7177,439.8209,681.1805,429.8134,680.1461,419.806,680.9689,409.7985,680.4108,399.791,680.1207,389.7836,680.0681,379.7761,679.8553,369.7687,680.0591,359.7612,680.5363,349.7537,680.773,339.7463,681.0762,329.7388,680.9201,319.7313,679.7886,309.7239,681.119,299.7164,680.9861,289.709,681.0407,279.7015,681.0219,269.694,679.8409,259.6866,680.2423,249.6791,680.816,239.6716,680.0185,229.6642,680.3971,219.6567,680.567,209.6493,680.8261,199.6418,680.5458,189.6343,681.2447,179.6269,680.9114,169.6194,680.7561,159.6119,679.9601,149.6045,680.8388,139.597,679.9255,129.5896,680.8057,119.5821,680.5078,109.5746,680.7995,99.5672,680.4126,89.5597,680.3039,79.5522,679.7591,69.5448,680.2856,59.5373,679.7951,49.5299,680.2539,39.5224,680.9379,29.5149,680.6607,19.5075,680.0485,9.5,680.5,9.5314,680.5757,9.1548,680.3738,8.8622,680.3744,8.5114,680.2346,8.0977,679.9431,7.7322,679.7678,7.6771,679.7449,7.5197,679.3869,7.4374,679.0598,7.499,678.7925,6.939,678.2676,7,678,6.8361,678,7.2668,667.99,7.7317,657.98,7.2119,647.97,6.8018,637.96,6.2621,627.95,6.5762,617.94,6.7781,607.93,7.3398,597.92,7.3695,587.91,7.0518,577.9,6.867,567.89,6.2804,557.88,7.129,547.87,7.4354,537.86,7.6829,527.85,7.0983,517.84,7.0799,507.83,6.7798,497.82,7.2487,487.81,6.53,477.8,7.5161,467.79,6.6943,457.78,6.4698,447.77,7.2569,437.76,7.4718,427.75,7.0573,417.74,6.8789,407.73,7.1579,397.72,6.9753,387.71,6.9049,377.7,7.0769,367.69,6.668,357.68,7.3895,347.67,7.6875,337.66,6.6464,327.65,6.7656,317.64,6.5314,307.63,7.2369,297.62,6.9062,287.61,7.5514,277.6,6.6998,267.59,6.6411,257.58,7.2968,247.57,6.7755,237.56,7.2669,227.55,7.2796,217.54,7.4358,207.53,6.5152,197.52,7.088,187.51,7,177.5,7.1648,177.5683,6.9792,177.0772,7.4482,176.8572,7.3348,176.396,7.6341,176.1058,7.7322,175.7322,7.8155,175.9333,8.0054,175.3916,8.5315,175.6617,8.7829,175.2688,9.1049,175.0461,9.5,175" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="144.9531" x="607.5234" y="191.8516">Message Broker</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="60.9551" x="649.5225" y="206.7637">[System]</text><text fill="#444444" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4.874" x="677.563" y="222.5889">&#xa0;</text><text fill="#444444" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="77.5947" x="641.2026" y="238.8857">RabbitMQ</text></g><!--cluster retry_block--><g id="cluster_retry_block"><polygon fill="none" points="49.5,404.5,49.5,404.7102,59.524,404.0857,69.548,404.6933,79.572,404.8997,89.596,403.7866,99.62,404.4223,109.644,404.0735,119.668,404.1165,129.692,404.4318,139.716,403.8086,149.74,405.0536,159.764,403.8697,169.788,404.3022,179.812,404.9319,189.836,404.4142,199.86,404.5682,209.884,404.4681,219.908,404.6785,229.932,404.7391,239.956,405.0857,249.98,405.1711,260.004,405.1793,270.028,404.7546,280.052,404.9636,290.076,405.2022,300.1,403.7788,310.124,405.1785,320.148,404.2035,330.172,405.0338,340.196,404.005,350.22,404.4315,360.244,405.2416,370.268,404.4513,380.292,404.6053,390.316,404.8386,400.34,404.9162,410.364,404.4961,420.388,404.7872,430.412,403.9276,440.436,404.7844,450.46,405.0482,460.484,404.9445,470.508,405.113,480.532,404.0169,490.556,403.8478,500.58,403.8786,510.604,404.4411,520.628,404.3035,530.652,405.1814,540.676,404.3253,550.7,404.1569,560.724,404.7283,570.748,403.8332,580.772,403.9809,590.796,405.149,600.82,404.9357,610.844,405.2345,620.868,404.1782,630.892,404.8192,640.916,405.0904,650.94,404.0276,660.964,404.4041,670.988,404.626,681.012,405.1518,691.036,404.4958,701.06,404.9626,711.084,403.9462,721.108,403.8227,731.132,405.0036,741.156,403.7831,751.18,405.009,761.204,404.7066,771.228,404.2321,781.252,404.1462,791.276,404.9588,801.3,404.2007,811.324,405.0919,821.348,403.9473,831.372,405.1174,841.396,404.9843,851.42,404.745,861.444,404.5472,871.468,405.2266,881.492,405.1136,891.516,404.6693,901.54,404.7682,911.564,404.3697,921.588,405.2165,931.612,404.6549,941.636,404.6726,951.66,403.8916,961.684,404.0948,971.708,405.0307,981.732,404.9298,991.756,404.4571,1001.78,404.1778,1011.804,404.2811,1021.828,403.8138,1031.852,404.9147,1041.876,405.2396,1051.9,405.0264,1061.924,405.1949,1071.948,404.3633,1081.972,404.5872,1091.996,404.1124,1102.02,404.784,1112.044,404.7468,1122.068,405.0524,1132.092,404.2703,1142.116,404.3656,1152.14,404.9435,1162.164,405.0673,1172.188,403.9875,1182.212,404.3061,1192.236,404.6493,1202.26,403.8892,1212.284,404.8534,1222.308,404.758,1232.332,404.3992,1242.356,404.6422,1252.38,405.2287,1262.404,404.1871,1272.428,404.815,1282.452,404.7856,1292.476,404.6158,1302.5,404.5,1302.518,404.5434,1302.868,404.6814,1303.1275,404.6007,1303.5095,404.8159,1303.8553,404.9437,1304.2678,405.2322,1304.2874,405.2404,1304.4414,405.597,1304.6105,405.96,1304.6175,406.2558,1304.8328,406.6378,1305,407,1304.8798,407,1305.5769,417.0435,1305.4266,427.087,1304.5145,437.1304,1304.9271,447.1739,1304.4228,457.2174,1305.2884,467.2609,1305.6085,477.3043,1305.5446,487.3478,1304.5644,497.3913,1305.464,507.4348,1304.2572,517.4783,1305.2002,527.5217,1304.7007,537.5652,1305.0967,547.6087,1305.2403,557.6522,1305.4721,567.6957,1304.2801,577.7391,1305.4755,587.7826,1305.1782,597.8261,1305.3553,607.8696,1305.7478,617.913,1305.0055,627.9565,1305,638,1305.054,638.0224,1304.9193,638.3808,1304.7678,638.7323,1304.5604,639.0606,1304.6331,639.5049,1304.2678,639.7678,1304.19,639.58,1303.9863,640.0883,1303.4811,639.8685,1303.1382,640.0407,1302.8587,640.3659,1302.5,640.5,1302.5,640.5283,1292.476,640.0072,1282.452,640.9137,1272.428,640.6089,1262.404,641.2267,1252.38,641.1671,1242.356,640.0517,1232.332,640.1021,1222.308,640.3708,1212.284,640.8555,1202.26,640.903,1192.236,640.8012,1182.212,640.158,1172.188,641.1364,1162.164,641.1338,1152.14,640.4527,1142.116,640.2609,1132.092,640.0986,1122.068,640.2854,1112.044,640.6374,1102.02,640.4316,1091.996,640.0822,1081.972,640.9874,1071.948,640.0411,1061.924,641.0024,1051.9,640.9272,1041.876,640.8719,1031.852,641.1925,1021.828,640.2541,1011.804,640.1994,1001.78,641.0189,991.756,639.9031,981.732,640.266,971.708,640.6155,961.684,640.5687,951.66,640.1415,941.636,640.457,931.612,641.2446,921.588,641.1485,911.564,639.9037,901.54,640.5785,891.516,639.9861,881.492,640.4737,871.468,640.793,861.444,640.9199,851.42,639.8353,841.396,640.9005,831.372,640.5084,821.348,639.9447,811.324,640.0289,801.3,640.8266,791.276,640.7499,781.252,640.4836,771.228,639.8279,761.204,641.1581,751.18,640.1882,741.156,639.9719,731.132,640.4327,721.108,641.0897,711.084,641.1154,701.06,640.5351,691.036,640.3488,681.012,640.6698,670.988,640.6862,660.964,639.9922,650.94,640.914,640.916,641.0588,630.892,640.2842,620.868,640.0708,610.844,641.1746,600.82,640.521,590.796,640.4998,580.772,640.799,570.748,639.8543,560.724,641.03,550.7,640.4846,540.676,641.1688,530.652,640.2841,520.628,640.909,510.604,640.056,500.58,640.745,490.556,640.8793,480.532,640.1727,470.508,640.863,460.484,639.9286,450.46,640.0295,440.436,641.1828,430.412,641.1844,420.388,641.0685,410.364,640.1396,400.34,640.8842,390.316,640.0279,380.292,640.5582,370.268,640.4987,360.244,640.2376,350.22,641.1159,340.196,640.9433,330.172,640.1792,320.148,641.0266,310.124,640.5919,300.1,639.9164,290.076,640.2667,280.052,639.9747,270.028,640.3609,260.004,639.871,249.98,639.8998,239.956,640.5703,229.932,640.3796,219.908,640.4414,209.884,640.3568,199.86,640.6673,189.836,639.9449,179.812,640.6601,169.788,639.7569,159.764,640.796,149.74,641.0928,139.716,641.0221,129.692,640.8613,119.668,640.6922,109.644,640.6057,99.62,639.86,89.596,640.9465,79.572,640.8296,69.548,640.3466,59.524,640.4942,49.5,640.5,49.4734,640.4358,49.1742,640.4206,48.8797,640.4167,48.3942,639.9517,48.1456,640.0586,47.7322,639.7678,47.7048,639.7564,47.469,639.3658,47.3063,639.0056,47.0944,638.6249,47.0107,638.2973,47,638,47.0363,638,47.273,627.9565,47.5762,617.913,47.4201,607.8696,46.2886,597.8261,47.619,587.7826,47.4861,577.7391,47.5407,567.6957,47.5219,557.6522,46.3409,547.6087,46.7423,537.5652,47.316,527.5217,46.5185,517.4783,46.8971,507.4348,47.067,497.3913,47.3261,487.3478,47.0458,477.3043,47.7447,467.2609,47.4114,457.2174,47.2561,447.1739,46.4601,437.1304,47.3388,427.087,46.4255,417.0435,47,407,47.0941,407.039,47.1488,406.6474,47.3851,406.3311,47.4124,405.9282,47.5254,405.5608,47.7322,405.2322,47.6377,405.0041,48.0584,405.0198,48.3494,404.7223,48.7615,404.7171,49.2023,404.7813,49.5,404.5" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="103.5078" x="624.2461" y="421.3516">Retry Block</text></g><!--entity my_exchange--><g id="elem_my_exchange"><path d="M130,267 L130,267.5605 L140.4281,265.8951 L150.8563,267.5154 L161.2844,268.0658 L171.7125,265.0976 L182.1406,266.7928 L192.5688,265.8627 L202.9969,265.9773 L213.425,266.8182 L223.8531,265.1563 L234.2813,267 L234.6292,267.348 L237.4851,270.2038 L241.3569,274.0757 L245.3527,278.0715 L248.6273,281.3461 L252.2813,285 L252.3419,285 L252.2529,285.525 L252.4399,286.05 L252.4938,286.575 L252.8019,287.1 L252.2813,287.625 L252.703,288.0468 L249.1082,291.6519 L245.2413,294.985 L241.7726,298.7164 L238.3226,302.4664 L234.2813,305.625 L234.2813,303.7018 L223.8531,307.4344 L213.425,304.8343 L202.9969,307.0485 L192.5688,304.3049 L182.1406,305.4423 L171.7125,307.6026 L161.2844,305.495 L150.8563,305.9058 L140.4281,306.528 L130,305.625 L130.2616,305.8866 L126.3975,302.0225 L122.9805,298.6055 L118.8402,294.4652 L115.7787,291.4037 L112,287.625 L112.4873,287.625 L112.3951,287.1 L112.5449,286.575 L111.5706,286.05 L111.4203,285.525 L112,285 L111.6094,284.6094 L115.563,281.363 L119.0765,277.6765 L123.2283,274.6283 L126.2902,270.4902 L130,267 " fill="#62929E" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="120.2813" x="122" y="291.8516">my-exchange</text></g><!--entity my_queue--><g id="elem_my_queue"><path d="M345,272 L345,272.5605 L354.968,270.8951 L364.9359,272.5154 L374.9039,273.0658 L384.8719,270.0976 L394.8398,271.7928 L404.8078,270.8627 L414.7758,270.9773 L424.7438,271.8182 L434.7117,270.1563 L444.6797,272 L444.6797,272 L444.912,272.0812 L445.4152,274.7701 L446.5967,277.696 L447.8609,280.6508 L448.6437,283.4374 L449.6797,286.3125 L449.6797,286.3125 L449.7083,286.3225 L448.6663,289.1703 L447.7546,292.0637 L446.78,294.9351 L445.9254,297.8483 L444.6797,300.625 L444.6797,302.4145 L434.7117,302.4364 L424.7438,301.304 L414.7758,301.8612 L404.8078,302.4976 L394.8398,298.7018 L384.8719,302.4344 L374.9039,299.8343 L364.9359,302.0485 L354.968,299.3049 L345,300.625 L345,300.625 L344.9713,300.615 L344.3112,297.8712 L342.9796,294.8929 L342.0442,292.0529 L341.1421,289.2246 L340,286.3125 L340,286.3125 L340.1746,286.3735 L340.9984,283.4494 L342.1205,280.6296 L342.7598,277.6411 L344.1193,274.9042 L345,272 " fill="#62929E" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M444.6797,272 L444.6797,272 L444.7679,272.0308 L443.5058,274.8018 L442.7608,277.7533 L441.8474,280.6461 L440.3804,283.3454 L439.6797,286.3125 L439.6797,286.3125 L439.6471,286.3011 L440.5007,289.1125 L441.5188,291.9813 L442.6511,294.89 L443.3896,297.6612 L444.6797,300.625 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="89.6797" x="345" y="291.8516">my-queue</text></g><!--entity retry_error_exchange--><g id="elem_retry_error_exchange"><path d="M1089,456.5 L1089,457.0605 L1099.2381,455.3951 L1109.4761,457.0154 L1119.7142,457.5658 L1129.9522,454.5976 L1140.1903,456.2928 L1150.4283,455.3627 L1160.6664,455.4773 L1170.9044,456.3182 L1181.1425,454.6563 L1191.3805,457.9764 L1201.6186,454.8193 L1211.8566,455.9726 L1222.0947,457.6519 L1232.3327,456.2713 L1242.5708,456.682 L1252.8088,456.4148 L1263.0469,456.5 L1263.1591,456.6122 L1266.7972,460.2503 L1270.615,464.0681 L1274.2687,467.7218 L1277.8738,471.3269 L1281.0469,474.5 L1281.2732,474.5 L1281.459,475.025 L1281.6711,475.55 L1280.4058,476.075 L1281.65,476.6 L1281.0469,477.125 L1280.8605,476.9386 L1277.7824,481.0605 L1273.5357,484.0139 L1270.2038,487.8819 L1267.113,491.9911 L1263.0469,495.125 L1263.0469,494.995 L1252.8088,495.4058 L1242.5708,496.028 L1232.3327,496.235 L1222.0947,495.1146 L1211.8566,495.8909 L1201.6186,493.5986 L1191.3805,495.8834 L1181.1425,496.5869 L1170.9044,496.3104 L1160.6664,496.7597 L1150.4283,493.8368 L1140.1903,493.3858 L1129.9522,493.4679 L1119.7142,494.968 L1109.4761,494.6009 L1099.2381,496.9421 L1089,495.125 L1088.8902,495.0152 L1085.1844,491.3094 L1081.9435,488.0685 L1077.7809,483.9059 L1074.2737,480.3987 L1071,477.125 L1071.5768,477.125 L1071.3873,476.6 L1071.6529,476.075 L1070.714,475.55 L1071.2837,475.025 L1071,474.5 L1071.3711,474.8711 L1074.3031,470.6031 L1078.1397,467.2397 L1081.8792,463.7792 L1085.8097,460.5097 L1089,456.5 " fill="#CC8635" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="190.0469" x="1081" y="481.3516">retry-error-exchange</text></g><!--entity retry_error_queue--><g id="elem_retry_error_queue"><path d="M809.5,461.5 L809.5,462.0605 L819.4674,460.3951 L829.4347,462.0154 L839.4021,462.5658 L849.3695,459.5976 L859.3369,461.2928 L869.3042,460.3627 L879.2716,460.4773 L889.239,461.3182 L899.2063,459.6563 L909.1737,462.9764 L919.1411,459.8193 L929.1085,460.9726 L939.0758,462.6519 L949.0432,461.2713 L959.0106,461.682 L968.9779,461.4148 L978.9453,461.5 L978.9453,461.5 L979.0202,461.5262 L980.0456,464.3976 L981.1911,467.3108 L982.2269,470.1859 L983.2303,473.0496 L983.9453,475.8125 L983.9453,475.8125 L984.0521,475.8498 L983.1398,478.743 L982.24,481.6404 L980.6427,484.2943 L980.23,487.362 L978.9453,490.125 L978.9453,489.3343 L968.9779,491.5485 L959.0106,488.8049 L949.0432,489.9423 L939.0758,492.1026 L929.1085,489.995 L919.1411,490.4058 L909.1737,491.028 L899.2063,491.235 L889.239,490.1146 L879.2716,490.8909 L869.3042,488.5986 L859.3369,490.8834 L849.3695,491.5869 L839.4021,491.3104 L829.4347,491.7597 L819.4674,488.8368 L809.5,490.125 L809.5,490.125 L809.2264,490.0294 L808.2393,487.1714 L807.4753,484.3914 L806.4175,481.5087 L805.7859,478.7749 L804.5,475.8125 L804.5,475.8125 L804.4267,475.7869 L805.3561,472.8997 L806.5958,470.121 L807.2202,467.1273 L808.2822,464.2864 L809.5,461.5 " fill="#CC8635" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M978.9453,461.5 L978.9453,461.5 L979.0335,461.5308 L977.7715,464.3018 L977.0264,467.2533 L976.113,470.1461 L974.646,472.8454 L973.9453,475.8125 L973.9453,475.8125 L973.9127,475.8011 L974.7664,478.6125 L975.7844,481.4813 L976.9167,484.39 L977.6552,487.1612 L978.9453,490.125 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="159.4453" x="809.5" y="481.3516">retry-error-queue</text></g><!--entity retry_delay_exchange--><g id="elem_retry_delay_exchange"><path d="M432,449.5 L432,450.0605 L441.8637,448.3951 L451.7274,450.0154 L461.5911,450.5658 L471.4549,447.5976 L481.3186,449.2928 L491.1823,448.3627 L501.046,448.4773 L510.9097,449.3182 L520.7734,447.6563 L530.6372,450.9764 L540.5009,447.8193 L550.3646,448.9726 L560.2283,450.6519 L570.092,449.2713 L579.9557,449.682 L589.8194,449.4148 L599.6832,449.9761 L609.5469,449.5 L609.6972,449.6503 L613.515,453.4681 L617.1687,457.1218 L620.7738,460.7269 L624.1069,464.06 L627.5469,467.5 L627.959,467.5 L628.1711,470.8188 L626.9058,474.1375 L628.15,477.4563 L627.2833,480.775 L627.5469,484.0938 L627.8824,484.4293 L623.6357,487.3826 L620.3038,491.2507 L617.213,495.3599 L613.1162,498.4631 L609.5469,502.0938 L609.5469,502.3746 L599.6832,502.9968 L589.8194,503.2037 L579.9557,502.0833 L570.092,502.8597 L560.2283,500.5673 L550.3646,502.8521 L540.5009,503.5556 L530.6372,503.2792 L520.7734,503.7285 L510.9097,500.8055 L501.046,500.3546 L491.1823,500.4367 L481.3186,501.9367 L471.4549,501.5697 L461.5911,503.9108 L451.7274,501.6279 L441.8637,501.1789 L432,502.0938 L432.1435,502.2372 L427.9809,498.0746 L424.4737,494.5675 L421.6079,491.7016 L417.8738,487.9676 L414,484.0938 L414.6529,484.0938 L413.714,480.775 L414.2837,477.4563 L414.5248,474.1375 L413.5801,470.8188 L414,467.5 L413.9397,467.4397 L417.6792,463.9792 L421.6097,460.7097 L424.7974,456.6974 L428.6907,453.3907 L432,449.5 " fill="#B5533F" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="193.5469" x="424" y="474.3516">retry-delay-exchange</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35.5313" x="440.0195" y="489.2637">[type:</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.8145" x="475.5508" y="489.2637">&#xa0;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="122.1621" x="479.3652" y="489.2637">x-delayed-message]</text></g><!--entity retry_delay_queue--><g id="elem_retry_delay_queue"><path d="M95.5,461.5 L95.5,462.0605 L105.6733,460.3951 L115.8465,462.0154 L126.0198,462.5658 L136.193,459.5976 L146.3663,461.2928 L156.5395,460.3627 L166.7128,460.4773 L176.886,461.3182 L187.0593,459.6563 L197.2325,462.9764 L207.4058,459.8193 L217.579,460.9726 L227.7523,462.6519 L237.9256,461.2713 L248.0988,461.682 L258.2721,461.4148 L268.4453,461.5 L268.4453,461.5 L268.5202,461.5262 L269.5456,464.3976 L270.6911,467.3108 L271.7269,470.1859 L272.7303,473.0496 L273.4453,475.8125 L273.4453,475.8125 L273.5521,475.8498 L272.6398,478.743 L271.74,481.6404 L270.1427,484.2943 L269.73,487.362 L268.4453,490.125 L268.4453,489.3343 L258.2721,491.5485 L248.0988,488.8049 L237.9256,489.9423 L227.7523,492.1026 L217.579,489.995 L207.4058,490.4058 L197.2325,491.028 L187.0593,491.235 L176.886,490.1146 L166.7128,490.8909 L156.5395,488.5986 L146.3663,490.8834 L136.193,491.5869 L126.0198,491.3104 L115.8465,491.7597 L105.6733,488.8368 L95.5,490.125 L95.5,490.125 L95.2264,490.0294 L94.2393,487.1714 L93.4753,484.3914 L92.4175,481.5087 L91.7859,478.7749 L90.5,475.8125 L90.5,475.8125 L90.4267,475.7869 L91.3561,472.8997 L92.5958,470.121 L93.2202,467.1273 L94.2822,464.2864 L95.5,461.5 " fill="#B5533F" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M268.4453,461.5 L268.4453,461.5 L268.5335,461.5308 L267.2715,464.3018 L266.5264,467.2533 L265.613,470.1461 L264.146,472.8454 L263.4453,475.8125 L263.4453,475.8125 L263.4127,475.8011 L264.2664,478.6125 L265.2844,481.4813 L266.4167,484.39 L267.1552,487.1612 L268.4453,490.125 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="162.9453" x="95.5" y="481.3516">retry-delay-queue</text></g><!--entity retry_dead_letter_exchange--><g id="elem_retry_dead_letter_exchange"><path d="M779,577.5 L779,578.0605 L789.0044,576.3951 L799.0088,578.0154 L809.0132,578.5658 L819.0177,575.5976 L829.0221,577.2928 L839.0265,576.3627 L849.0309,576.4773 L859.0353,577.3182 L869.0397,575.6563 L879.0442,578.9764 L889.0486,575.8193 L899.053,576.9726 L909.0574,578.6519 L919.0618,577.2713 L929.0662,577.682 L939.0707,577.4148 L949.0751,577.9761 L959.0795,578.1377 L969.0839,579.0618 L979.0883,579.2895 L989.0927,579.3114 L999.0971,578.179 L1009.1016,577.5 L1009.3929,577.7914 L1013.1429,581.5414 L1015.8483,584.2467 L1020.328,588.7265 L1023.3152,591.7136 L1027.1016,595.5 L1027.5761,595.5 L1026.6615,596.025 L1027.0407,596.55 L1027.7608,597.075 L1027.0582,597.6 L1027.1016,598.125 L1027.1677,598.1912 L1023.7144,601.9378 L1020.1632,605.5866 L1016.2991,608.9225 L1012.8821,612.7055 L1009.1016,616.125 L1009.1016,614.5986 L999.0971,616.8834 L989.0927,617.5869 L979.0883,617.3104 L969.0839,617.7597 L959.0795,614.8368 L949.0751,614.3858 L939.0707,614.4679 L929.0662,615.968 L919.0618,615.6009 L909.0574,617.9421 L899.053,615.6592 L889.0486,615.2102 L879.0442,616.7337 L869.0397,614.3468 L859.0353,614.7407 L849.0309,617.8555 L839.0265,617.2868 L829.0221,618.0836 L819.0177,615.2669 L809.0132,616.9762 L799.0088,617.6995 L789.0044,614.8653 L779,616.125 L778.9397,616.0647 L775.4792,612.6042 L772.2097,609.3347 L768.1974,605.3224 L764.8907,602.0157 L761,598.125 L760.5077,598.125 L760.398,597.6 L761.4477,597.075 L760.3627,596.55 L761.4524,596.025 L761,595.5 L761.1299,595.6299 L764.4316,591.7316 L767.9776,588.0776 L772.0883,584.9883 L775.2119,580.9119 L779,577.5 " fill="#666666" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="246.1016" x="771" y="602.3516">retry-dead-letter-exchange</text></g><!--entity retry_dead_letter_queue--><g id="elem_retry_dead_letter_queue"><path d="M462.5,582.5 L462.5,583.0605 L472.3043,581.3951 L482.1087,583.0154 L491.913,583.5658 L501.7174,580.5976 L511.5217,582.2928 L521.3261,581.3627 L531.1304,581.4773 L540.9348,582.3182 L550.7391,580.6563 L560.5435,583.9764 L570.3478,580.8193 L580.1522,581.9726 L589.9565,583.6519 L599.7609,582.2713 L609.5652,582.682 L619.3696,582.4148 L629.1739,582.9761 L638.9783,583.1377 L648.7826,584.0618 L658.587,584.2895 L668.3913,584.3114 L678.1957,583.179 L688,582.5 L688,582.5 L688.1945,582.568 L689.2946,585.4654 L689.6974,588.1193 L691.2847,591.187 L691.8756,593.9065 L693,596.8125 L693,596.8125 L693.224,596.8907 L691.7923,599.6024 L690.9713,602.5275 L690.3112,605.5087 L688.9796,608.2554 L688,611.125 L688,611.4058 L678.1957,612.028 L668.3913,612.235 L658.587,611.1146 L648.7826,611.8909 L638.9783,609.5986 L629.1739,611.8834 L619.3696,612.5869 L609.5652,612.3104 L599.7609,612.7597 L589.9565,609.8368 L580.1522,609.3858 L570.3478,609.4679 L560.5435,610.968 L550.7391,610.6009 L540.9348,612.9421 L531.1304,610.6592 L521.3261,610.2102 L511.5217,611.7337 L501.7174,609.3468 L491.913,609.7407 L482.1087,612.8555 L472.3043,612.2868 L462.5,611.125 L462.5,611.125 L462.8082,611.2327 L461.365,608.2153 L460.6339,605.4468 L459.7477,602.624 L458.3018,599.6058 L457.5,596.8125 L457.5,596.8125 L457.4598,596.7984 L458.5529,593.9685 L459.7735,591.183 L460.4982,588.2244 L461.6941,585.4303 L462.5,582.5 " fill="#666666" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M688,582.5 L688,582.5 L688.0882,582.5308 L686.8262,585.3018 L686.0811,588.2533 L685.1677,591.1461 L683.7007,593.8454 L683,596.8125 L683,596.8125 L682.9674,596.8011 L683.8211,599.6125 L684.8391,602.4813 L685.9714,605.39 L686.7099,608.1612 L688,611.125 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="215.5" x="462.5" y="602.3516">retry-dead-letter-queue</text></g><!--entity producer--><g id="elem_producer"><polygon fill="#999999" points="191.5,7,191.5,7.2102,201.168,6.5857,210.8359,7.1933,220.5039,7.3997,230.1719,6.2866,239.8398,6.9223,249.5078,6.5735,259.1758,6.6165,268.8438,6.9318,278.5117,6.3086,288.1797,7,288.2503,7.1705,288.4528,6.9523,288.8616,7.232,289.2954,7.5724,289.583,7.5594,289.9475,7.7322,289.9685,7.7409,290.0841,8.0817,290.2953,8.4621,290.4604,8.8234,290.7136,9.2212,290.6797,9.5,291.3507,9.5,291.3589,19.5365,290.9343,29.5729,291.1433,39.6094,291.3819,49.6458,289.9585,59.6823,291.3582,69.7188,290.3832,79.7552,290.6797,89.7917,290.8441,89.8598,290.3808,90.0821,290.3657,90.49,290.4687,90.9469,290.0789,91.1997,289.9475,91.5594,289.9609,91.5919,289.6371,91.8102,289.2934,91.9805,288.8863,91.9976,288.5699,92.2337,288.1797,92.2917,288.1797,91.7192,278.5117,92.5761,268.8438,92.8399,259.1758,92.7362,249.5078,92.9047,239.8398,91.8086,230.1719,91.6395,220.5039,91.6703,210.8359,92.2328,201.168,92.0951,191.5,92.2917,191.5869,92.5015,191.1242,92.0914,190.7491,91.8931,190.4685,91.9226,190.0007,91.5005,189.7322,91.5594,189.5724,91.4932,189.7856,91.2887,189.5735,90.9079,189.5191,90.5925,189.0473,90.1042,189,89.7917,189.3192,89.7917,189.5904,79.7552,188.5276,69.7188,188.9041,59.6823,189.126,49.6458,189.6518,39.6094,188.9958,29.5729,189.4626,19.5365,189,9.5,188.8295,9.4294,188.9379,9.0601,189.448,8.8571,189.2186,8.3479,189.7425,8.1507,189.7322,7.7322,189.7586,7.7959,190.0516,7.5033,190.3942,7.3304,190.8514,7.4342,191.1083,7.0543,191.5,7" style="stroke:#8A8A8A;stroke-width:0.5;"/><path d="M236.9232,17 L237.0954,17.0724 L236.0003,18.2457 L235.9149,19.8432 L235.5007,21.3026 L234.0052,22.3077 L234.0065,23.9417 L234.0065,23.9417 L233.992,23.9103 L233.6,23.9214 L233.2814,24.0904 L233.0138,24.3692 L232.5704,24.2696 L232.3732,24.7 L232.5638,25.1537 L230.7678,23.6002 L229.5284,23.3713 L228.3569,23.304 L226.7903,22.2964 L225.4315,21.7833 L225.4744,21.8262 L224.5714,22.6033 L223.8637,23.5755 L223.0618,24.4536 L222.4396,25.5115 L221.2315,25.9833 L221.7814,26.2144 L222.3715,27.6056 L222.6068,28.8477 L223.3614,30.308 L224.1403,31.7785 L224.1482,32.925 L224.1482,32.925 L223.8575,32.79 L224.27,33.3787 L223.7253,33.5228 L223.9084,34.0049 L223.342,34.139 L223.3898,34.5583 L223.3663,34.5022 L222.2569,35.7494 L220.5964,35.6851 L219.2611,36.3946 L217.9531,37.1692 L216.4482,37.475 L216.8182,37.475 L216.4447,38.6417 L216.7035,39.8083 L215.9394,40.975 L216.701,42.1417 L216.4482,43.3083 L216.6369,43.7576 L217.9896,44.256 L219.4359,44.9774 L220.4468,44.6625 L221.7769,45.1072 L223.3898,46.225 L223.3898,46.225 L223.1393,46.1087 L223.5178,46.5406 L223.614,46.8416 L224.1195,47.3325 L223.9261,47.499 L224.1482,47.8583 L223.867,47.7402 L223.7519,49.3253 L222.435,50.4054 L221.9728,51.8446 L222.3467,53.6351 L221.2315,54.8 L221.5053,55.0738 L222.5332,56.1017 L222.7092,56.2777 L223.9521,57.5206 L224.9626,58.5311 L225.4315,59 L225.2688,58.6129 L226.7868,58.3381 L228.2516,57.9366 L229.8209,57.7841 L230.9834,56.6632 L232.3732,56.0833 L232.3732,56.0833 L232.4598,56.2698 L232.5962,56.0118 L232.8998,56.1137 L233.4474,56.7413 L233.5457,56.401 L234.0065,56.8417 L234.4236,57.0169 L234.7592,58.3011 L234.9536,59.5261 L235.4666,60.8849 L236.7158,62.553 L236.9232,63.7833 L236.9232,63.5173 L238.0898,64.3094 L239.2565,63.292 L240.4232,64.3322 L241.5898,64.2138 L242.7565,63.7833 L242.9573,63.8677 L243.3785,62.4113 L244.5186,61.2569 L245.0093,59.8296 L245.2285,58.2883 L245.6732,56.8417 L245.6732,56.8417 L245.7234,56.9498 L245.9755,56.6375 L246.4606,56.8271 L246.6822,56.4491 L247.0121,56.3046 L247.3065,56.0833 L247.097,55.5848 L248.5553,56.3346 L250.2659,57.6849 L251.6195,58.1855 L252.8451,58.3815 L254.2482,59 L254.0457,58.7975 L254.9506,58.0224 L255.4969,56.8887 L257.0289,56.7407 L258.073,56.1048 L258.4482,54.8 L258.8796,54.9813 L258.4343,53.6509 L257.1695,51.9763 L256.7697,50.665 L255.7972,49.1132 L255.5315,47.8583 L255.5315,47.8583 L255.646,47.9115 L255.7827,47.5779 L256.0575,47.3084 L255.8939,46.8354 L256.084,46.5265 L256.2898,46.225 L256.4425,46.5884 L257.8735,46.1066 L258.89,44.6383 L260.3881,44.3161 L261.8946,44.014 L263.2315,43.3083 L262.6885,43.3083 L263.5456,42.1417 L263.4608,40.975 L263.1419,39.8083 L263.358,38.6417 L263.2315,37.475 L263.4824,38.0721 L261.7354,36.6353 L260.5633,36.5665 L259.1649,35.9591 L257.718,35.2365 L256.2898,34.5583 L256.2898,34.5583 L256.3467,34.5847 L256.1839,34.2529 L255.7349,33.7882 L255.6733,33.5033 L255.4971,33.1653 L255.5315,32.925 L255.5838,32.947 L256.1871,31.567 L256.8307,30.204 L257.0431,28.6598 L257.8095,27.3484 L258.4482,25.9833 L258.3726,25.9078 L257.9708,25.5059 L257.0363,24.5714 L255.623,23.1582 L255.0423,22.5775 L254.2482,21.7833 L254.0494,21.3103 L252.9591,22.603 L251.681,23.4486 L250.2707,23.9796 L248.5449,23.7597 L247.3065,24.7 L247.3065,24.7 L247.3933,24.887 L246.8408,24.2489 L246.6906,24.4774 L246.2705,24.1243 L246.0179,24.1323 L245.6732,23.9417 L245.8701,24.0244 L245.4767,22.7159 L243.9165,20.9171 L244.3128,19.9404 L243.4859,18.4497 L242.7565,17 L242.7565,17.3158 L241.5898,17.6647 L240.4232,17.0049 L239.2565,17.1558 L238.0898,17.1897 L236.9232,17 M239.8398,31.5833 L239.8398,31.5833 L239.9018,31.6453 L241.5896,33.3331 L243.5632,35.3067 L244.8982,36.6417 L247.0175,38.761 L248.5898,40.3333 L248.5898,40.3333 L248.3937,40.1372 L246.67,41.9135 L245.1024,43.8459 L243.3487,45.5922 L241.435,47.1785 L239.8398,49.0833 L239.8398,49.0833 L239.9699,49.2134 L238.1241,47.3675 L236.5682,45.8117 L234.7995,44.043 L232.699,41.9425 L231.0898,40.3333 L231.0898,40.3333 L230.9648,40.2083 L232.7992,38.5427 L234.7016,36.9451 L236.4665,35.21 L238.1845,33.428 L239.8398,31.5833 " fill="#999999" style="stroke:#FFFFFF;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="81.6797" x="199" y="78.5182">Producer</text></g><!--entity consumer--><g id="elem_consumer"><polygon fill="#6DA34D" points="757.5,7,757.5,7.2102,767.0866,6.5857,776.6733,7.1933,786.2599,7.3997,795.8466,6.2866,805.4332,6.9223,815.0199,6.5735,824.6065,6.6165,834.1932,6.9318,843.7798,6.3086,853.3665,7.5536,862.9531,7,862.8727,6.8059,863.2815,7.0855,863.7153,7.4259,864.0028,7.4129,864.376,7.6068,864.7209,7.7322,864.7111,7.7282,864.9223,8.1086,865.0874,8.4698,865.3406,8.8676,865.5133,9.232,865.4531,9.5,866.1324,9.5,865.7078,19.5365,865.9167,29.5729,866.1554,39.6094,864.7319,49.6458,866.1316,59.6823,865.1566,69.7188,865.9869,79.7552,865.4531,89.7917,865.3007,89.7285,865.2856,90.1365,865.3886,90.5934,864.9988,90.8461,864.8998,91.2193,864.7209,91.5594,864.7641,91.6637,864.4204,91.8341,864.0133,91.8511,863.6969,92.0872,863.2337,91.9689,862.9531,92.2917,862.9531,92.5761,853.3665,92.8399,843.7798,92.7362,834.1932,92.9047,824.6065,91.8086,815.0199,91.6395,805.4332,91.6703,795.8466,92.2328,786.2599,92.0951,776.6733,92.9731,767.0866,92.117,757.5,92.2917,757.4562,92.186,757.1756,92.2155,756.7078,91.7934,756.3731,91.6925,756.1686,91.9057,755.7322,91.5594,755.8664,91.615,755.812,91.2996,755.3402,90.8113,755.3912,90.5395,755.3283,90.2205,755,89.7917,754.5276,89.7917,754.9041,79.7552,755.126,69.7188,755.6518,59.6823,754.9958,49.6458,755.4626,39.6094,754.4462,29.5729,754.3227,19.5365,755,9.5,755.1551,9.5642,754.9257,9.055,755.4496,8.8578,755.503,8.4657,755.5033,8.0516,755.7322,7.7322,755.6871,7.6233,756.1443,7.7271,756.4012,7.3472,756.8684,7.4752,757.0759,6.9762,757.5,7" style="stroke:#8A8A8A;stroke-width:0.5;"/><path d="M807.3099,17 L807.4821,17.0724 L806.387,18.2457 L806.3016,19.8432 L805.8874,21.3026 L804.3919,22.3077 L804.3932,23.9417 L804.3932,23.9417 L804.3787,23.9103 L803.9867,23.9214 L803.6681,24.0904 L803.4005,24.3692 L802.9572,24.2696 L802.7599,24.7 L802.9505,25.1537 L801.1545,23.6002 L799.9151,23.3713 L798.7436,23.304 L797.177,22.2964 L795.8182,21.7833 L795.8611,21.8262 L794.9581,22.6033 L794.2504,23.5755 L793.4485,24.4536 L792.8264,25.5115 L791.6182,25.9833 L792.1682,26.2144 L792.7582,27.6056 L792.9936,28.8477 L793.7481,30.308 L794.527,31.7785 L794.5349,32.925 L794.5349,32.925 L794.2442,32.79 L794.6567,33.3787 L794.112,33.5228 L794.2951,34.0049 L793.7287,34.139 L793.7766,34.5583 L793.753,34.5022 L792.6436,35.7494 L790.9831,35.6851 L789.6478,36.3946 L788.3398,37.1692 L786.8349,37.475 L787.2049,37.475 L786.8314,38.6417 L787.0902,39.8083 L786.3261,40.975 L787.0877,42.1417 L786.8349,43.3083 L787.0237,43.7576 L788.3763,44.256 L789.8226,44.9774 L790.8336,44.6625 L792.1637,45.1072 L793.7766,46.225 L793.7766,46.225 L793.5261,46.1087 L793.9045,46.5406 L794.0007,46.8416 L794.5062,47.3325 L794.3128,47.499 L794.5349,47.8583 L794.2538,47.7402 L794.1386,49.3253 L792.8218,50.4054 L792.3595,51.8446 L792.7334,53.6351 L791.6182,54.8 L791.8921,55.0738 L792.9199,56.1017 L793.096,56.2777 L794.3389,57.5206 L795.3493,58.5311 L795.8182,59 L795.6556,58.6129 L797.1736,58.3381 L798.6383,57.9366 L800.2076,57.7841 L801.3701,56.6632 L802.7599,56.0833 L802.7599,56.0833 L802.8465,56.2698 L802.9829,56.0118 L803.2865,56.1137 L803.8342,56.7413 L803.9324,56.401 L804.3932,56.8417 L804.8103,57.0169 L805.1459,58.3011 L805.3403,59.5261 L805.8533,60.8849 L807.1025,62.553 L807.3099,63.7833 L807.3099,63.5173 L808.4766,64.3094 L809.6432,63.292 L810.8099,64.3322 L811.9766,64.2138 L813.1432,63.7833 L813.344,63.8677 L813.7653,62.4113 L814.9053,61.2569 L815.396,59.8296 L815.6153,58.2883 L816.0599,56.8417 L816.0599,56.8417 L816.1101,56.9498 L816.3622,56.6375 L816.8473,56.8271 L817.0689,56.4491 L817.3989,56.3046 L817.6932,56.0833 L817.4838,55.5848 L818.942,56.3346 L820.6526,57.6849 L822.0062,58.1855 L823.2318,58.3815 L824.6349,59 L824.4324,58.7975 L825.3373,58.0224 L825.8836,56.8887 L827.4156,56.7407 L828.4597,56.1048 L828.8349,54.8 L829.2663,54.9813 L828.8211,53.6509 L827.5562,51.9763 L827.1564,50.665 L826.1839,49.1132 L825.9182,47.8583 L825.9182,47.8583 L826.0327,47.9115 L826.1694,47.5779 L826.4442,47.3084 L826.2807,46.8354 L826.4707,46.5265 L826.6766,46.225 L826.8293,46.5884 L828.2602,46.1066 L829.2768,44.6383 L830.7748,44.3161 L832.2813,44.014 L833.6182,43.3083 L833.0753,43.3083 L833.9324,42.1417 L833.8476,40.975 L833.5287,39.8083 L833.7447,38.6417 L833.6182,37.475 L833.8691,38.0721 L832.1222,36.6353 L830.95,36.5665 L829.5516,35.9591 L828.1048,35.2365 L826.6766,34.5583 L826.6766,34.5583 L826.7334,34.5847 L826.5706,34.2529 L826.1216,33.7882 L826.06,33.5033 L825.8838,33.1653 L825.9182,32.925 L825.9705,32.947 L826.5738,31.567 L827.2174,30.204 L827.4298,28.6598 L828.1962,27.3484 L828.8349,25.9833 L828.7593,25.9078 L828.3575,25.5059 L827.423,24.5714 L826.0097,23.1582 L825.4291,22.5775 L824.6349,21.7833 L824.4361,21.3103 L823.3459,22.603 L822.0677,23.4486 L820.6574,23.9796 L818.9316,23.7597 L817.6932,24.7 L817.6932,24.7 L817.7801,24.887 L817.2275,24.2489 L817.0774,24.4774 L816.6572,24.1243 L816.4047,24.1323 L816.0599,23.9417 L816.2568,24.0244 L815.8634,22.7159 L814.3033,20.9171 L814.6995,19.9404 L813.8726,18.4497 L813.1432,17 L813.1432,17.3158 L811.9766,17.6647 L810.8099,17.0049 L809.6432,17.1558 L808.4766,17.1897 L807.3099,17 M810.2266,31.5833 L810.2266,31.5833 L810.2885,31.6453 L811.9763,33.3331 L813.9499,35.3067 L815.2849,36.6417 L817.4042,38.761 L818.9766,40.3333 L818.9766,40.3333 L818.7805,40.1372 L817.0568,41.9135 L815.4891,43.8459 L813.7354,45.5922 L811.8217,47.1785 L810.2266,49.0833 L810.2266,49.0833 L810.3566,49.2134 L808.5108,47.3675 L806.9549,45.8117 L805.1862,44.043 L803.0857,41.9425 L801.4766,40.3333 L801.4766,40.3333 L801.3515,40.2083 L803.186,38.5427 L805.0883,36.9451 L806.8532,35.21 L808.5712,33.428 L810.2266,31.5833 " fill="#6DA34D" style="stroke:#FFFFFF;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="90.4531" x="765" y="78.5182">Consumer</text></g><!--link producer to my_exchange--><g id="link_producer_my_exchange"><path d="M229.7,92.24 L229.9721,92.3072 L226.7411,101.9225 L225.105,111.9315 L222.9496,121.8123 L219.0862,131.2715 L217.4864,141.2895 L214.6124,150.993 L212.2454,160.8216 L210.231,170.7372 L207.0017,180.3529 L206.1908,190.5656 L202.2356,200.0022 L200.3729,209.9553 L198.7655,219.9713 L195.6727,229.6208 L193.4495,239.4849 L190.8972,249.2677 L188.5159,259.0928 " fill="none" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="186.6,266.86,186.6578,266.8996,187.4518,265.3722,188.5846,264.0769,189.6071,262.7061,190.2667,261.0866,191.4286,259.8113,191.4224,259.7861,190.2295,259.3859,189.0679,259.1124,187.928,258.9271,186.7131,258.438,185.6032,258.3743,185.7865,258.3959,185.5939,260.047,185.9365,261.7609,186.3443,263.4825,186.3723,265.1595,186.6,266.86" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="41.0566" x="222" y="134.1387">Sends</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="263.0566" y="134.1387">&#xa0;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="59.7539" x="267.2344" y="134.1387">message</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="44.6074" x="252.1904" y="148.1074">[AMQP]</text></g><!--link producer to my_exchange--><!--link my_exchange to my_queue--><g id="link_my_exchange_my_queue"><path d="M252.04,286.5 L252.04,286.7802 L262.005,285.9476 L271.97,286.7577 L281.935,287.0329 L291.9,285.5488 L301.865,286.3964 L311.83,285.9313 L321.795,285.9887 L331.76,286.5 " fill="none" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="339.76,286.5,339.7846,286.5656,338.1115,285.7707,336.5826,285.3603,335.0068,284.8247,333.2765,283.8773,331.76,283.5,331.7341,283.5,331.6178,284.7,331.6322,285.9,331.7373,287.1,331.5295,288.3,331.76,289.5,331.8248,289.6728,333.2862,288.7033,334.9369,288.2383,336.6106,287.8348,338.15,287.0732,339.76,286.5" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="51.082" x="270.5" y="280.6387">binding</text></g><!--link consumer to my_queue--><g id="link_consumer_my_queue"><path d="M754.85,53.61 L754.8594,53.7029 L751.8344,53.7304 L748.8646,54.3027 L745.8769,54.6975 L742.83,54.509 L739.8649,55.128 L739.8608,55.0937 L736.5892,55.3289 L733.3382,55.737 L730.1016,56.2654 L726.8155,56.3795 L723.5987,57.0737 L723.6327,57.3174 L720.0836,57.2816 L716.6338,57.9573 L713.1961,58.7198 L709.6879,58.9772 L706.2168,59.5003 L706.2217,59.5302 L702.5481,60.0784 L698.8966,60.7629 L695.2345,61.3816 L691.5926,62.1258 L687.8847,62.4609 L687.9391,62.7542 L684.1164,63.4673 L680.2586,63.9914 L676.4521,64.7922 L672.6481,65.6061 L668.7677,66.0088 L668.7012,65.6953 L664.8831,67.1414 L660.8459,67.5552 L656.9752,68.7538 L652.933,69.1442 L649.0314,70.1971 L649.0245,70.1674 L647.0968,70.9882 L645.007,71.1163 L643.0129,71.6532 L641.0268,72.2243 L638.9827,72.548 L639.0275,72.7275 L636.954,73.0525 L634.957,73.6842 L632.8362,73.8197 L630.9001,74.6954 L628.8412,75.0789 L628.9039,75.3144 L626.8493,75.8134 L624.8258,76.4293 L622.6578,76.502 L620.5958,76.9729 L618.6276,77.7965 L618.5522,77.5308 L616.5674,78.3536 L614.4977,78.8769 L612.5512,79.8345 L610.3943,80.0506 L608.3625,80.7075 L608.3184,80.5615 L606.3327,81.4268 L604.1584,81.6682 L602.1183,82.3532 L600.2093,83.4723 L598.0667,83.8184 L598.126,84.0028 L596.1055,84.7927 L593.9005,85.0093 L591.9266,85.944 L589.9023,86.7223 L587.7607,87.136 L587.6926,86.9374 L585.6879,87.8019 L583.6608,88.6013 L581.6775,89.5285 L579.5239,89.9589 L577.4654,90.6669 L577.536,90.86 L575.3281,91.1858 L573.2565,91.8844 L571.3838,93.1275 L569.1448,93.3682 L567.2014,94.4176 L567.2835,94.6284 L565.1923,95.2987 L563.0733,95.8976 L561.0171,96.6575 L559.1057,97.7895 L556.9893,98.3949 L556.9383,98.2721 L555.0623,99.48 L552.8393,99.8523 L551.0108,101.1747 L548.9603,101.9622 L546.8498,102.6055 L546.8939,102.705 L544.8491,103.5148 L542.9622,104.6809 L540.9326,105.5251 L538.8434,106.2346 L536.8037,107.0559 L536.8547,107.1637 L534.7925,107.9429 L532.967,109.2225 L530.8738,109.9363 L528.8908,110.8828 L526.8716,111.7528 L526.7496,111.5115 L524.8309,112.5821 L523.059,113.9434 L521.0792,114.8933 L519.025,115.6958 L517.0741,116.7029 L517.006,116.5769 L515.0994,117.6592 L513.0723,118.5185 L511.3765,119.991 L509.5167,121.16 L507.432,121.9127 L507.5492,122.1153 L505.6935,123.2754 L503.6152,124.0507 L501.7718,125.2321 L499.7729,126.1447 L497.9659,127.3891 L498.0325,127.4963 L496.1699,128.6321 L494.3876,129.8975 L492.3505,130.752 L490.519,131.9378 L488.6966,133.1385 L488.8059,133.3025 L487.026,134.5542 L484.9495,135.3606 L483.2177,136.6843 L481.4918,138.017 L479.6447,139.1676 L479.4865,138.9469 L477.9734,140.5584 L476.1859,141.787 L474.3302,142.9206 L472.6304,144.2715 L470.8308,145.4832 L471.0288,145.7395 L469.0348,146.6948 L467.4943,148.2374 L465.7753,149.5488 L464.0182,150.8107 L462.2757,152.0917 L462.3158,152.1398 L460.6529,153.5121 L458.7876,154.6421 L457.1961,156.0999 L455.5237,157.4609 L454,159 L454.0201,159.0201 L451.5748,161.4793 L449.1451,163.954 L446.5501,166.2633 L444.1674,168.7851 L441.7358,171.2579 L441.6935,171.2252 L439.8562,174.1058 L437.721,176.756 L435.3181,179.1989 L433.3808,182.0022 L431.3241,184.713 L431.1055,184.5787 L429.691,187.6158 L428.0699,190.5259 L426.3034,193.3467 L424.1899,195.9543 L422.6126,198.8913 L422.7973,198.983 L420.8841,201.63 L419.8268,204.7018 L418.1952,207.4886 L416.9201,210.4523 L415.4489,213.3187 L415.5478,213.3589 L414.4896,216.2381 L412.8451,218.8792 L412.1837,221.9196 L410.9076,224.7104 L409.6806,227.521 L409.8303,227.5712 L409.0907,230.3273 L407.8729,232.9231 L407.0394,235.6478 L406.1505,238.3538 L405.1555,241.0243 L405.2399,241.0479 L404.4683,243.4903 L404.086,246.0411 L402.8338,248.3497 L402.65,250.9559 L401.7211,253.3545 L401.4511,253.2914 L400.9881,255.4364 L400.7401,257.6317 L400.2358,259.7671 L399.5111,261.8509 L399.2252,264.0374 " fill="none" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="397.55,271.86,397.609,271.8978,398.3554,270.3466,399.4477,269.017,400.4274,267.6152,401.0367,265.9762,402.1587,264.6656,402.1533,264.6402,400.9555,264.2753,399.7851,264.038,398.6337,263.8895,397.4168,263.4351,396.2917,263.4092,396.4742,263.4363,396.3356,265.0684,396.7298,266.7798,397.1891,268.5009,397.2701,270.1656,397.55,271.86" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="69.0645" x="503" y="141.1387">Consumes</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="572.0645" y="141.1387">&#xa0;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="59.7539" x="576.2422" y="141.1387">message</text></g><!--link consumer to retry_error_exchange--><g id="link_consumer_retry_error_exchange"><path d="M865.1,52.97 L865.1051,53.0633 L869.8254,53.0435 L874.5756,53.5706 L879.316,53.9196 L884.0246,53.683 L888.7772,54.257 L888.7752,54.2225 L894.1159,54.3874 L899.4671,54.726 L904.8255,55.1855 L910.159,55.2286 L915.5273,55.8549 L915.5435,56.1005 L921.3729,55.9612 L927.2495,56.5387 L933.1319,57.2037 L938.9808,57.3599 L944.8473,57.7837 L944.8494,57.8139 L951.1236,58.2254 L957.4077,58.7746 L963.687,59.2574 L969.9756,59.8669 L976.2341,60.0631 L976.258,60.3604 L982.8484,60.894 L989.4234,61.2359 L996.021,61.8585 L1002.6196,62.4942 L1009.1847,62.7131 L1009.1562,62.3939 L1016.0139,63.6216 L1022.7776,63.798 L1029.6128,64.7737 L1036.3744,64.9263 L1043.1963,65.7535 L1043.1933,65.7232 L1050.1429,66.7716 L1057.0219,67.1122 L1063.9426,67.8705 L1070.8668,68.6638 L1077.7657,69.2042 L1077.7863,69.388 L1084.6904,69.9786 L1091.6296,70.8834 L1098.5119,71.2799 L1105.4792,72.4344 L1112.39,73.085 L1112.4206,73.3267 L1119.2501,74.1472 L1126.0947,75.0876 L1132.8687,75.4705 L1139.6945,76.2621 L1146.5662,77.4158 L1146.528,77.1423 L1149.9151,77.858 L1153.2592,78.2654 L1156.6658,79.12 L1159.9657,79.2112 L1163.329,79.7562 L1163.3065,79.6054 L1166.6365,80.3486 L1169.8701,80.4472 L1173.1722,81.0042 L1176.5414,82.0097 L1179.7912,82.2165 L1179.8219,82.4077 L1183.0627,83.0554 L1186.208,83.1084 L1189.4729,83.9062 L1192.7117,84.5418 L1195.8899,84.7992 L1195.8541,84.5923 L1199.0171,85.2988 L1202.1683,85.9375 L1205.3425,86.7093 L1208.4274,86.9635 L1211.5621,87.5069 L1211.5999,87.709 L1214.5536,87.832 L1217.5801,88.345 L1220.713,89.4279 L1223.65,89.4617 L1226.7451,90.3419 L1226.79,90.5636 L1229.6895,91.0249 L1232.5738,91.4112 L1235.4924,91.9668 L1238.4903,92.9137 L1241.3759,93.3069 L1241.3472,93.177 L1244.2359,94.1832 L1246.9292,94.3059 L1249.8446,95.4332 L1252.635,95.9949 L1255.3917,96.4042 L1255.4174,96.51 L1258.0643,97.071 L1260.8029,98.0109 L1263.4587,98.6085 L1266.0798,99.063 L1268.7296,99.6363 L1268.7604,99.7515 L1271.2341,100.2543 L1273.8507,101.2917 L1276.3057,101.7245 L1278.8271,102.406 L1281.3267,103.0058 L1281.2496,102.7466 L1283.6341,103.535 L1286.1114,104.6356 L1288.4573,105.2944 L1290.7561,105.7949 L1293.1202,106.5151 L1293.0748,106.3793 L1295.2747,107.1531 L1297.3943,107.6865 L1299.7348,108.8809 L1301.9659,109.7481 L1304.0471,110.1667 L1304.1302,110.3854 L1306.1563,111.2147 L1308.0246,111.6284 L1310.0594,112.4807 L1311.984,113.0427 L1314.0447,113.963 L1314.0987,114.0771 L1317.4827,115.6695 L1320.9319,117.3997 L1324.1741,118.693 L1327.5833,120.3386 L1331,122 L1331.1064,122.1659 L1333.4315,123.6841 L1335.4678,124.7519 L1337.8396,126.3429 L1340.2173,127.9431 L1342.4769,129.3591 L1342.2879,129.1642 L1344.1443,130.983 L1345.673,132.4637 L1347.1201,133.8605 L1348.7534,135.4492 L1350.2675,136.915 L1350.5446,137.0827 L1351.2799,138.7127 L1352.65,140.7269 L1353.7702,142.5898 L1354.837,144.4204 L1355.9244,146.2634 L1355.9826,146.2866 L1356.9864,148.8294 L1357.6969,151.2554 L1358.8043,153.8394 L1359.7943,156.3768 L1361,159 L1361.0268,159.0093 L1362.2157,162.4218 L1363.4254,165.8415 L1364.4139,169.1848 L1365.6865,172.6263 L1366.8936,176.0451 L1366.8427,176.0287 L1368.1835,179.3632 L1369.1659,182.582 L1369.8261,185.6968 L1371.0465,188.9925 L1372.1233,192.2418 L1371.877,192.1701 L1373.1458,195.3654 L1374.1817,198.493 L1375.0538,201.5727 L1375.535,204.5387 L1376.6202,207.6806 L1376.8203,207.7306 L1377.039,210.5546 L1378.1846,213.6105 L1378.7082,216.5109 L1379.618,219.5078 L1380.3153,222.4516 L1380.4201,222.4724 L1381.086,225.3312 L1381.1312,228.0666 L1382.2171,231.009 L1382.6524,233.8219 L1383.1396,236.6452 L1383.296,236.6667 L1383.8457,239.4318 L1383.8958,242.1281 L1384.3474,244.8797 L1384.7411,247.6234 L1385.024,250.3518 L1385.1115,250.3575 L1385.1988,253.0137 L1385.6895,255.6964 L1385.279,258.3199 L1385.9752,261.0161 L1385.8997,263.6616 L1385.6224,263.6573 L1385.6191,266.2585 L1385.8366,268.8632 L1385.7909,271.4638 L1385.5189,274.0609 L1385.6975,276.665 L1385.8804,276.6843 L1385.4758,279.2275 L1385.4791,281.8138 L1385.183,284.3685 L1384.4202,286.874 L1384.3485,289.4523 L1384.1752,289.4172 L1383.7793,291.9732 L1383.4775,294.5483 L1382.9852,297.0848 L1382.4279,299.6081 L1381.7838,302.1139 L1381.6384,302.0695 L1381.2844,304.7216 L1380.5134,307.2465 L1379.454,309.6834 L1378.6025,312.1838 L1377.9343,314.74 L1377.7692,314.6722 L1376.8054,317.24 L1375.9094,319.8355 L1374.7841,322.337 L1373.5998,324.8143 L1372.7309,327.4209 L1372.9234,327.5204 L1371.2245,329.8926 L1370.2789,332.6539 L1368.924,335.2038 L1367.5769,337.7577 L1366.1048,340.2471 L1366.3663,340.4096 L1364.3885,342.8018 L1362.7442,345.4012 L1361.43,348.2058 L1359.3852,350.5564 L1357.987,353.3088 L1357.9027,353.2479 L1356.0929,356.0164 L1354.1403,358.6817 L1352.0507,361.248 L1350.2286,364.0076 L1348.3084,366.6963 L1348.5644,366.906 L1346.2697,369.6397 L1343.58,372.0498 L1341.5503,375.0006 L1339.085,377.5945 L1337,380.5 L1336.9915,380.492 L1334.7499,383.0909 L1332.4458,385.6312 L1329.749,387.8034 L1327.7493,390.629 L1325.2742,393.009 L1325.2768,393.0118 L1322.625,395.103 L1320.1679,397.4064 L1317.925,399.9436 L1315.4195,402.1943 L1312.862,404.3883 L1312.8574,404.3826 L1310.086,406.2195 L1307.8649,408.7465 L1305.0064,410.4742 L1302.3568,412.4638 L1299.9133,414.7121 L1299.8962,414.6876 L1297.3967,416.7953 L1294.7363,418.6733 L1291.9213,420.3306 L1289.2068,422.1314 L1286.5784,424.055 L1286.6182,424.1191 L1283.9078,425.8125 L1281.0307,427.2378 L1278.5328,429.273 L1275.8525,431.0149 L1273.0071,432.4913 L1272.9605,432.4075 L1270.1829,433.8454 L1267.69,435.7949 L1264.8172,437.0619 L1262.0812,438.5745 L1259.3497,440.0954 L1259.4095,440.2141 L1256.502,441.2084 L1254.0183,443.0444 L1251.1906,444.1971 L1248.6086,445.838 L1245.7562,446.9418 L1245.7161,446.8547 L1243.1564,448.3396 L1240.3219,449.2279 L1237.7741,450.7386 L1235.1232,452.0254 L1232.3767,453.105 " fill="none" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1225.06,456.34,1225.064,456.4099,1226.758,456.1039,1228.4757,456.2078,1230.1856,456.1782,1231.8702,455.7096,1233.5899,455.8487,1233.5662,455.8383,1232.9746,454.6937,1232.5024,453.602,1232.1133,452.547,1231.4381,451.3655,1231.1636,450.3612,1231.2927,450.493,1229.7958,451.4069,1228.676,452.7056,1227.6022,454.0513,1226.2607,455.1238,1225.06,456.34" style="stroke:#666666;stroke-width:1.0;"/><path d="M1405.0047,252.5 L1405.0047,252.5 L1405.0579,252.5768 L1404.7699,252.4386 L1404.7936,252.7506 L1404.7158,252.9161 L1404.3042,252.5993 L1404.3547,252.95 L1404.2913,252.9226 L1401.0666,259.6097 L1398.1617,266.4349 L1395.4791,273.356 L1392.0305,279.9464 L1389.6547,287 L1389.6547,287 L1389.8977,287.0384 L1389.348,287.1463 L1389.5079,287.3663 L1389.7543,287.5999 L1389.497,287.7541 L1389.5047,287.95 L1389.5653,287.95 L1389.4763,288.76 L1389.6634,289.57 L1389.7173,290.38 L1390.0253,291.19 L1389.5047,292 L1389.5047,292 L1389.7156,292.2109 L1389.8082,292.3035 L1389.7647,292.26 L1389.9204,292.4157 L1390.0854,292.5807 L1389.9547,292.45 L1389.9547,291.8089 L1396.7647,293.0531 L1403.5747,292.1864 L1410.3847,292.9245 L1417.1947,292.01 L1424.0047,292.45 L1424.0047,292.45 L1423.9832,292.4285 L1424.3278,292.5931 L1424.1694,292.2547 L1424.3078,292.2131 L1424.4711,292.1964 L1424.4547,292 L1424.8247,292 L1424.4512,291.19 L1424.71,290.38 L1423.9459,289.57 L1424.7075,288.76 L1424.4547,287.95 L1424.4547,287.95 L1424.6953,287.988 L1424.6198,287.7908 L1424.6638,287.6125 L1424.1526,287.3465 L1424.0484,287.1448 L1424.3047,287 L1423.7976,286.7811 L1421.3166,280.1693 L1418.2643,273.3108 L1416.0408,266.8101 L1412.4021,259.6985 L1409.6047,252.95 L1409.6047,252.95 L1409.5179,252.8246 L1409.5324,252.9434 L1409.176,252.5263 L1409.0834,252.4903 L1409.2489,252.8271 L1408.9547,252.5 L1408.9547,252.8873 L1408.1447,253.1529 L1407.3347,252.214 L1406.5247,252.7837 L1405.7147,253.0248 L1404.9047,252.5 M1404.5547,267.5 L1404.5547,267.0801 L1405.5547,267.4148 L1406.5547,267.612 L1407.5547,268.0793 L1408.5547,267.4963 L1409.5547,267.5 L1409.9659,267.5 L1409.0624,269.5 L1408.9527,271.5 L1410.0023,273.5 L1408.9174,275.5 L1409.5547,277.5 L1409.5547,277.9524 L1408.5547,277.6837 L1407.5547,277.2619 L1406.5547,277.1855 L1405.5547,277.9078 L1404.5547,277.5 L1404.2886,277.5 L1405.0808,275.5 L1404.0634,273.5 L1405.1035,271.5 L1404.9852,269.5 L1404.5547,267.5 M1404.5547,282.5 L1404.5547,282.7177 L1405.5547,282.542 L1406.5547,283.1459 L1407.5547,283.0454 L1408.5547,282.6504 L1409.5547,282.5 L1409.7931,282.5 L1409.4389,283.5 L1410.1915,284.5 L1409.6923,285.5 L1409.7081,286.5 L1409.5547,287.5 L1409.5547,286.9592 L1408.5547,287.1398 L1407.5547,287.9718 L1406.5547,287.882 L1405.5547,287.4618 L1404.5547,287.5 L1404.2683,287.5 L1404.3601,286.5 L1403.9448,285.5 L1404.9233,284.5 L1405.2121,283.5 L1404.5547,282.5 " fill="none" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="3.8145" x="1430.5547" y="304.6699">&#xa0;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="1434.3691" y="304.6699">&#xa0;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16.7871" x="1386" y="318.6387">on</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="1402.7871" y="318.6387">&#xa0;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="34.1367" x="1406.9648" y="318.6387">error</text></g><!--reverse link retry_error_queue to retry_error_exchange--><g id="link_retry_error_queue_retry_error_exchange"><path d="M991.61,476 L991.61,476.2802 L1001.5163,475.4476 L1011.4225,476.2577 L1021.3287,476.5329 L1031.235,475.0488 L1041.1413,475.8964 L1051.0475,475.4313 L1060.9538,475.4887 L1070.86,476 " fill="none" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="983.61,476,983.6346,476.0656,985.1615,476.4707,986.8326,477.2603,988.4568,477.9247,989.9265,478.1773,991.61,479,991.5841,479,991.4678,477.8,991.4822,476.6,991.5873,475.4,991.3795,474.2,991.61,473,991.6748,473.1728,989.9362,473.4033,988.3869,474.1383,986.8606,474.9348,985.2,475.3732,983.61,476" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="51.082" x="1001.75" y="470.1387">binding</text></g><!--reverse link retry_delay_exchange to retry_error_queue--><g id="link_retry_delay_exchange_retry_error_queue"><path d="M636.39,476 L636.39,476.2802 L646.2706,475.4476 L656.1512,476.2577 L666.0318,476.5329 L675.9124,475.0488 L685.7929,475.8964 L695.6735,475.4313 L705.5541,475.4887 L715.4347,475.9091 L725.3153,475.0782 L735.1959,476.7382 L745.0765,475.1596 L754.9571,475.7363 L764.8376,476.5759 L774.7182,475.8856 L784.5988,476.091 L794.4794,475.9574 L804.36,476 " fill="none" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="628.39,476,628.4146,476.0656,629.9415,476.4707,631.6126,477.2603,633.2368,477.9247,634.7065,478.1773,636.39,479,636.3641,479,636.2478,477.8,636.2622,476.6,636.3673,475.4,636.1595,474.2,636.39,473,636.4548,473.1728,634.7162,473.4033,633.1669,474.1383,631.6406,474.9348,629.98,475.3732,628.39,476" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="32.4141" x="646.25" y="456.1387">send</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="678.6641" y="456.1387">&#xa0;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29.4785" x="682.8418" y="456.1387">with</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="712.3203" y="456.1387">&#xa0;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="70.3125" x="716.498" y="456.1387">increasing</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="49.4824" x="691.7891" y="470.1074">x-delay</text></g><!--link retry_error_queue to retry_dead_letter_exchange--><g id="link_retry_error_queue_retry_dead_letter_exchange"><path d="M894,490.65 L894.2802,490.65 L893.4476,500.5 L894.2577,510.35 L894.5329,520.2 L893.0488,530.05 L893.8964,539.9 L893.4313,549.75 L893.4887,559.6 L894,569.45 " fill="none" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="894,577.45,894.0656,577.4746,894.4707,575.8015,895.2603,574.2726,895.9247,572.6968,896.1773,570.9665,897,569.45,897,569.4241,895.8,569.3078,894.6,569.3222,893.4,569.4273,892.2,569.2195,891,569.45,891.1728,569.5148,891.4033,570.9762,892.1383,572.6269,892.9348,574.3006,893.3732,575.84,894,577.45" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16.7871" x="895" y="544.6387">on</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="911.7871" y="544.6387">&#xa0;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="22.2246" x="915.9648" y="544.6387">too</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="938.1895" y="544.6387">&#xa0;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="36.9668" x="942.3672" y="544.6387">many</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="979.334" y="544.6387">&#xa0;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="45.1055" x="983.5117" y="544.6387">retries</text></g><!--reverse link retry_dead_letter_queue to retry_dead_letter_exchange--><g id="link_retry_dead_letter_queue_retry_dead_letter_exchange"><path d="M700.88,597 L700.88,597.2802 L710.8567,596.4476 L720.8333,597.2577 L730.81,597.5329 L740.7867,596.0488 L750.7633,596.8964 L760.74,597 " fill="none" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="692.88,597,692.9046,597.0656,694.4315,597.4707,696.1026,598.2603,697.7268,598.9247,699.1965,599.1773,700.88,600,700.8541,600,700.7378,598.8,700.7522,597.6,700.8573,596.4,700.6495,595.2,700.88,594,700.9448,594.1728,699.2062,594.4033,697.6569,595.1383,696.1306,595.9348,694.47,596.3732,692.88,597" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="32.4141" x="710.75" y="591.1387">send</text></g><!--reverse link retry_delay_queue to retry_delay_exchange--><g id="link_retry_delay_queue_retry_delay_exchange"><path d="M281.74,476 L281.74,476.2802 L291.9031,475.4476 L302.0662,476.2577 L312.2292,476.5329 L322.3923,475.0488 L332.5554,475.8964 L342.7185,475.4313 L352.8815,475.4887 L363.0446,475.9091 L373.2077,475.0782 L383.3708,476.7382 L393.5338,475.1596 L403.6969,475.7363 L413.86,476 " fill="none" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="273.74,476,273.7646,476.0656,275.2915,476.4707,276.9626,477.2603,278.5868,477.9247,280.0565,478.1773,281.74,479,281.7141,479,281.5978,477.8,281.6122,476.6,281.7173,475.4,281.5095,474.2,281.74,473,281.8048,473.1728,280.0662,473.4033,278.5169,474.1383,276.9906,474.9348,275.33,475.3732,273.74,476" style="stroke:#666666;stroke-width:1.0;"/><path d="M312.75,404 L312.75,404 L312.7859,404.0863 L309.8543,405.005 L307.133,406.4293 L304.3432,407.689 L301.3282,408.4072 L298.625,409.875 L298.5931,409.8617 L297.275,412.6272 L296.1176,415.4595 L295.072,418.3384 L293.6413,421.057 L292.75,424 L292.75,424 L292.9772,424.0945 L293.6664,426.7174 L295.0188,429.6162 L296.4523,432.5487 L297.4148,435.2854 L298.625,438.125 L298.6366,438.153 L301.4445,439.2869 L304.3055,440.5483 L307.1408,441.7481 L310.025,443.0653 L312.75,444 L312.75,444 L312.8645,444.2754 L315.6909,443.1037 L318.4435,441.7545 L321.3041,440.6652 L324.1699,439.5882 L326.875,438.125 L326.5791,438.0019 L328.3284,435.4158 L329.1033,432.4244 L330.6191,429.7411 L331.3719,426.7405 L332.75,424 L332.75,424 L332.7219,423.9883 L331.8793,421.3016 L330.38,418.3417 L329.2682,415.543 L328.189,412.7578 L326.875,409.875 L326.946,410.0458 L324.0493,408.6984 L321.274,407.6429 L318.3023,406.1151 L315.6235,405.2917 L312.75,404 M312.75,409 L312.75,409 L312.8431,409.2252 L314.948,410.0601 L317.0991,411.0068 L319.0355,411.4341 L321.1293,412.2421 L323.3625,413.3875 L323.1073,413.282 L324.2158,415.5 L325.0368,417.5991 L326.2749,419.8707 L326.8008,421.8478 L327.75,424 L327.75,424 L327.6091,423.9417 L326.9663,426.1613 L325.7211,428.1318 L324.9043,430.2793 L324.5065,432.6002 L323.3625,434.6125 L323.4365,434.7914 L321.3647,435.7917 L319.0629,436.2353 L317.0492,437.3761 L314.9728,438.365 L312.75,439 L312.75,439 L312.6698,438.806 L310.6112,438.0831 L308.5264,437.2967 L306.4932,436.6352 L304.2593,435.4883 L302.1375,434.6125 L302.3275,434.691 L301.0325,432.396 L300.1043,430.2525 L299.7118,428.3305 L298.333,426.0008 L297.75,424 L297.75,424 L297.959,424.0864 L298.7124,421.9126 L299.395,419.7095 L300.2372,417.5724 L301.4484,415.5879 L302.1375,413.3875 L302.0867,413.2646 L304.3605,412.7531 L306.2886,411.4055 L308.6098,411.0086 L310.7097,410.0764 L312.75,409 M310.25,414 L310.4677,414 L310.292,416.22 L310.8959,418.44 L310.7954,420.66 L310.4004,422.88 L310.25,425.1 L310.4003,425.285 L310.337,425.1401 L310.9716,425.8543 L310.8168,425.5968 L310.9867,425.7391 L311.05,425.75 L310.6676,425.3676 L311.2953,425.9953 L312.3836,427.0836 L312.8201,427.5201 L313.023,427.723 L313.55,428.25 L313.3366,428.059 L313.745,428.5002 L313.7755,428.6033 L314.8447,429.6358 L315.3999,430.2083 L315.25,430.15 L315.5809,430.4809 L316.4068,429.8668 L316.6041,428.6241 L317.4648,428.0448 L317.8864,427.0264 L318.85,426.55 L319.0184,426.7382 L318.6163,426.3735 L318.4174,426.2359 L317.5739,425.3779 L317.2503,425.101 L316.95,424.85 L317.2287,425.1287 L316.9666,424.8666 L315.9479,423.8479 L315.8081,423.7081 L315.6838,423.5838 L315.25,423.15 L314.707,423.15 L315.5641,421.34 L315.4793,419.53 L315.1604,417.72 L315.3764,415.91 L315.25,414.1 L315.25,414.7477 L314.25,413.8219 L313.25,414.38 L312.25,414.3539 L311.25,414.2029 L310.25,414.1 " fill="none" style="stroke:#800080;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="3.8145" x="333.75" y="456.1699">&#xa0;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29.0332" x="337.5645" y="456.1699">wait</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="366.5977" y="456.1699">&#xa0;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="25.2305" x="370.7754" y="456.1699">and</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="53.0742" x="317.3408" y="470.1387">forward</text></g><!--link retry_delay_queue to my_exchange--><g id="link_retry_delay_queue_my_exchange"><path d="M182,461.12 L182.2802,461.12 L181.4476,451.3227 L182.2577,441.5253 L182.5329,431.728 L181.0488,421.9307 L181.8964,412.1333 L181.4313,402.336 L181.4887,392.5387 L181.9091,382.7413 L181.0782,372.944 L182.7382,363.1467 L181.1596,353.3493 L181.7363,343.552 L182.5759,333.7547 L181.8856,323.9573 L182,314.16 " fill="none" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="182,306.16,182.0656,306.1846,181.2707,307.7115,180.8603,309.3826,180.3247,311.0068,179.3773,312.4765,179,314.16,179,314.1341,180.2,314.0178,181.4,314.0322,182.6,314.1373,183.8,313.9295,185,314.16,185.1728,314.2248,184.2033,312.4862,183.7383,310.9369,183.3348,309.4106,182.5732,307.75,182,306.16" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="56.0098" x="223.3271" y="363.6387">requeue</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.1777" x="279.3369" y="363.6387">&#xa0;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="13.9805" x="283.5146" y="363.6387">to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="154.8223" x="183" y="377.6074">x-first-death-exchange</text></g><!--link producer to consumer--><!--link consumer to rabbitmq--><!--link my_exchange to retry_block--><!--link my_queue to retry_block--><!--SRC=[fLLXQzim4FtkNw6wOyGieT0qPHrBeKayDcXPc_JBe60Kw-A8Mb8gooHXzBzFbkrOTknii7oAhNllxkdUdSye3-EK0FewlRgONWLJmHMc7EIjStOuObY1f3Y-20LZWhSUhMWCGGASt3fEyahv1alCq1fpifLKAU18oHGSv_kFcHyidlsv__FvrwFVynpdZX0_1WPSFUEevy8krB08t3xwaApn1iO-ZTPgGGcGHVRSy_J9IXSw5R6GOtUxfWfShydpbaBwtoIXu4dAG6OyowY8FR-UtGslPiVHRD-8kxovlF6FuoGekH-0bA91F9r-lXwEkW04Ojp8C1cDXiDltG1C1Z7ewsyAC3yDSnRxH04B_9tgRQGWQGYoZzp7ugz6kUOADxg9C7O_XYBg9o6EOJpgXuRiV6L-cikYAgzDmwVL3VuhbOvIE4h6rUrNXKv4oWcM-vx4ooLLx4tJFa2Iu0ZGH8hNN2c19DGwvoRcuSdrq6y7eOEvUsmVb3RJUAPxOPakprs- -QIRwjdWfynN6OCnM0u_U2t76eZ6LCLcxGYMiGXVDM2UFQ59zbHKPjUMnnfps4LQdZbLhMqjhywS5sxJbmfixeOKyzXWRItOcFEuOFFQBjXL-mryGRly1CY0vTthr9Ax_eIMF7DTIvxsX9QIjKCB9a4-DssA3aFrzqRO4tXIGfMmAQJATb9EFS-xy-uuSuY3cTXoQxBhnb_eVPsWgW7ktSFJeyPdm7csB-k3Odb-IJcXFCfZhN6tGeh1h_YRiHr6V-62eyDkFAoBBPPSPsoi30cagFSULgfZTjeiNnDm32x2EgoTVUVGbgerqXz22JZHJAMZ2qPpxoSOMmscXIiX4CDyRm8f9CS5jcExVPGLsyPIrzGsIbjC5T9VSBGIKby_gQzliypgtTYaSXENZMvXP8q5OLvhoIzyDrXHcQZCnsfTZPMUptiDpxrOkRZqaDTwQcN90qmlBDyLNmxha1rVXLdMzP1Q2ulpFm00]--></g></svg><h1 id="breakdown" tabindex="-1">1. Breakdown <a class="header-anchor" href="#breakdown" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h1>
<p>So we have a bunch of extra exchanges and queues for this approach.</p>
<p>The main difference to Cyril's solution is that we don't re-send the message to a queue directly,
but rather to it's original exchange with it's routing key.</p>
<p>One good thing though is: We can use this retry-block for as my queues as we like.
It doesn't have to be repeated for each queue. Phew.</p>
<p>So we can set up a number of retries in our code, each having a delay time.
When a message still couldn't be delivered after the last delay, it
is finally sent to the <code class="language-plain">retry-dead-letter-exchange</code>.
There, an admin can look regulary which messages had problems to be consumed.</p>
<p>In the example code the retry delays are:</p>
<ul>
<li>5 seconds</li>
<li>2 minutes</li>
<li>30 minutes</li>
<li>6 hours</li>
<li>2 days</li>
</ul>
<p>My example also covers the case of having a quorum queue, and here it is a bit disappointing:
Even though you can still use the retry mechanism via <code class="language-plain">x-delivery-limit</code>, the retries will
still be <strong>immediate</strong>.
If you want to have increasing delay here as well, you must skip the automatic quorum queue
mechanism by setting <code class="language-plain">requeue=False</code> in case of an error, so the dead-letter-exchange
(<code class="language-plain">retry-error-exchange</code>) will be used instead.</p>
<img src="/blog/2024-08-29-rabbitmq-retries/rabbitmq-retry-with-delay.png" width="1460" height="950" alt="undefined">
<h1 id="why-do-we-need-a-delay-exchange%3F" tabindex="-1">2. Why do we need a delay exchange? <a class="header-anchor" href="#why-do-we-need-a-delay-exchange%3F" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h1>
<p>First, I was surprised we need that second exchange in the retry-block.
Why not just have a single one?</p>
<p>The reason is: In order for <code class="language-plain">x-delay</code> to work, we need an exchange of the type <code class="language-plain">x-delayed-message</code>.
So we have the choice of either making our normal exchanges all of this type, or
rather have only a single place for this exception.</p>
<p>And the <code class="language-plain">retry-error-exchange</code> cannot be the exchange to be <code class="language-plain">x-delay-message</code>, because
at this point the message doesn't have the <code class="language-plain">x-delay</code> header yet.</p>
<h1 id="error-handling" tabindex="-1">3. Error handling <a class="header-anchor" href="#error-handling" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h1>
<p>So we have covered the case something goes wrong inside our consumer.</p>
<p>In case there is a problem in the consumers of the <code class="language-plain">retry-error-queue</code> or the <code class="language-plain">retry-delay-queue</code> themselves,
we define a dead letter exchange for them as well, and it is also the <code class="language-plain">retry-dead-letter-exchange</code>.</p>
<p>Now we keep all non-consumable messages for analysis:
even if all retries failed and even if there was a processing problem inside
the retry handlers.</p>
<h1 id="rabbitmq-delay-plugin" tabindex="-1">4. RabbitMQ Delay Plugin <a class="header-anchor" href="#rabbitmq-delay-plugin" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h1>
<p>One more downside to this solution:
We cannot just use the basic RabbitMQ docker image anymore, because we need to have
the <a href="https://github.com/rabbitmq/rabbitmq-delayed-message-exchange/" class="external-link" target="_blank">delayed-message-exchange</a> enabled.</p>
<p>See <a href="https://www.rabbitmq.com/blog/2015/04/16/scheduling-messages-with-rabbitmq" class="external-link" target="_blank">Scheduling Messages with RabbitMQ</a>.</p>
<p>I use <code class="language-plain">heidiks/rabbitmq-delayed-message-exchange:3.13.3-management</code> for now, but we'll
see how well this is maintained over time.</p>


<script async src="/scripts/index.js"></script>

    </div>
  </body>
</html>
