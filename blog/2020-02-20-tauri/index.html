
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Eleventy v3.0.0">
    <title>Desktop apps with Tauri</title>
    <link rel="stylesheet" href="/styles/style.css"/>
    <link rel="stylesheet" href="/styles/icons/iconism.css"/>
    
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" sizes="any"/>
  </head>
  <body>
    <header class="site-header">
      <div class="site-header-content">
        <a class="site-title" href="/">Andreas Mausch</a>
        <nav class="site-nav">
          <a href="#" class="menu-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              version="1.1"
              viewbox="0 0 16 16"
              width="100%"
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="1.5">
              <path d="m2.75 12.25h10.5m-10.5-4h10.5m-10.5-4h10.5"/>
            </svg>
          </a>
          <input id="nav-toggle" type="checkbox"/>
          <label class="nav-button-container" for="nav-toggle">
            <div class="nav-button"></div>
          </label>
          <ol class="site-nav-items">
            <a class="page-link" href="/"><li class="page-link-home">Home</li></a><a class="page-link" href="/whatsapp-viewer/"><li>WhatsApp Viewer</li></a><a class="page-link" href="/blog/"><li>Blog</li></a></ol>
        </nav>
      </div>
    </header>
    <div class="content">
      
<h1>Desktop apps with Tauri</h1>
<div>
  <time class="postlist-date" datetime="2020-02-20T13:00:00.000+00:00">Feb 20, 2020</time>
  <ul class="tags">
    
        
          <li><a href="/blog/tags/desktop">#desktop</a></li>
        
    
        
          <li><a href="/blog/tags/gui">#gui</a></li>
        
    
        
    
        
          <li><a href="/blog/tags/software-development">#software-development</a></li>
        
    
        
          <li><a href="/blog/tags/tauri">#tauri</a></li>
        
    
  </ul>
</div>



<p>I'm always looking for better ways to create desktop applications.
See <a href="/blog/2017-12-10-kotlin-native/">here</a>.</p>
<p>Now, the easiest way to compose UIs is HTML and CSS, because it is used everywhere.
And it would be great if it could be used to create desktop apps, right?</p>
<p>&quot;Ah, there's Electron!&quot; you might say. And yes, you are right. Electron exists.</p>
<p>However, I'm not exactly a fan of it, mainly because of the resulting executable file size (&gt;100mb),
but also of security things..I'm sure the browser of most electron apps are never updated and
are target to hackers (see: <a href="https://www.techradar.com/news/whatsapp-desktop-has-a-worrying-security-flaw" class="external-link" target="_blank">WhatsApp Desktop patches major security vulnerability</a>).
People call it the &quot;flash for desktop&quot; for a reason.</p>
<p>Now there's <a href="https://github.com/tauri-apps/tauri" class="external-link" target="_blank">Tauri</a>: It just uses the operating system's browser and a webview to display content.
Looks like a good option to me. Okay, you are limited to IE 10 (worst case) on Windows.
But beside that it looks super-promising imo:</p>
<figure class="quote">
<blockquote cite="https://github.com/tauri-apps/tauri">
<p>The user interface in Tauri apps currently leverages Cocoa/WebKit on macOS, gtk-webkit2 on Linux and MSHTML (IE10/11) or Webkit via Edge on Windows.</p>
</blockquote>
<figcaption class="quote-attribution"><a href="https://github.com/tauri-apps/tauri" class="external-link" target="_blank">github.com/tauri</a></figcaption>
</figure>
<h1 id="build" tabindex="-1">1. Build <a class="header-anchor" href="#build" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h1>
<p>One (small) downside: You need to install a lot of dependencies. It's documented quite well, but you need to do it for each operating system of course.</p>
<h2 id="linux" tabindex="-1">1.1. Linux <a class="header-anchor" href="#linux" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h2>
<p>I've written a small docker image for builds on linux (see below), because I don't like to pollute my system with thousands of dependencies,
and the resulting binary is executable without the dev-dependencies.</p>
<p>I've ran <code class="language-plain">tauri init</code> once in the app directory, and now I can use this:</p>
<div class="code-block">
    <button type="button" class="copy-to-clipboard">
      <i class="icon icon-copy"></i>
    </button>
    <pre class="language-bash"><code class="language-bash"><span class="highlight-line"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--rm</span> <span class="token parameter variable">-v</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>:/root/app tauri tauri build</span></code></pre>

    </div><h2 id="windows" tabindex="-1">1.2. Windows <a class="header-anchor" href="#windows" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h2>
<p>Aha! Windows. You have to install the world. Prepare to spend some time on installing the prerequisites.</p>
<p>I've started on a clean Win7 box and had to install this:</p>
<ul>
<li>Windows Management Framework 5.1</li>
<li>.NET Framework 4.8</li>
<li>Powershell (optional)</li>
<li>Chocolatey (optional)</li>
<li>choco install git</li>
<li>choco install nodejs-lts</li>
<li>Visual Studio Build Tools (Note: Installing <code class="language-plain">visualstudio2019buildtools</code> was not sufficient, you need to install C++ support as well)<br>
Use the following Shell for all further commands: <code class="language-plain">x64 Native Tools Command Prompt for VS 2019</code></li>
<li>rustup</li>
<li>cargo install tauri-bundler --force</li>
<li>cargo install tauri-cli --force</li>
<li>npm install -g tauri</li>
</ul>
<p>Now, in the project directory, run the normal build</p>
<ul>
<li>npm run build</li>
<li>tauri build</li>
</ul>
<p>And boom, you get a .exe file in the src-tauri/target/release folder.<br>
Unfortunately I had an issue to execute the file, see <a href="https://github.com/tauri-apps/tauri/issues/440" class="external-link" target="_blank">this issue</a>.</p>
<img src="/blog/2020-02-20-tauri/tauri-error-win7.png" width="1058" height="659" alt="undefined">
<h1 id="result" tabindex="-1">2. Result <a class="header-anchor" href="#result" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h1>
<p>My test app loaded quickly and behaved just as the browser version.</p>
<details markdown="1">
<summary>ldd src-tauri/target/release/app</summary>
```
$ ldd src-tauri/target/release/app
	linux-vdso.so.1 (0x00007fff7cac0000)
	libwebkit2gtk-4.0.so.37 => /usr/lib/libwebkit2gtk-4.0.so.37 (0x00007f1444a74000)
	libgtk-3.so.0 => /usr/lib/libgtk-3.so.0 (0x00007f1444392000)
	libgdk-3.so.0 => /usr/lib/libgdk-3.so.0 (0x00007f1444299000)
	libjavascriptcoregtk-4.0.so.18 => /usr/lib/libjavascriptcoregtk-4.0.so.18 (0x00007f1442c77000)
	libgobject-2.0.so.0 => /usr/lib/libgobject-2.0.so.0 (0x00007f1442c1b000)
	libglib-2.0.so.0 => /usr/lib/libglib-2.0.so.0 (0x00007f1442af6000)
	libdl.so.2 => /usr/lib/libdl.so.2 (0x00007f1442aef000)
	libpthread.so.0 => /usr/lib/libpthread.so.0 (0x00007f1442acd000)
	libgcc_s.so.1 => /usr/lib/libgcc_s.so.1 (0x00007f1442ab3000)
	libc.so.6 => /usr/lib/libc.so.6 (0x00007f14428ec000)
	/lib64/ld-linux-x86-64.so.2 => /usr/lib64/ld-linux-x86-64.so.2 (0x00007f1447fd2000)
	libm.so.6 => /usr/lib/libm.so.6 (0x00007f14427a6000)
	libGL.so.1 => /usr/lib/libGL.so.1 (0x00007f1442720000)
	libEGL.so.1 => /usr/lib/libEGL.so.1 (0x00007f144270d000)
	librt.so.1 => /usr/lib/librt.so.1 (0x00007f1442702000)
	libz.so.1 => /usr/lib/libz.so.1 (0x00007f14426e8000)
	libpango-1.0.so.0 => /usr/lib/libpango-1.0.so.0 (0x00007f144269a000)
	libharfbuzz.so.0 => /usr/lib/libharfbuzz.so.0 (0x00007f1442596000)
	libatk-1.0.so.0 => /usr/lib/libatk-1.0.so.0 (0x00007f144256d000)
	libcairo.so.2 => /usr/lib/libcairo.so.2 (0x00007f1442447000)
	libgdk_pixbuf-2.0.so.0 => /usr/lib/libgdk_pixbuf-2.0.so.0 (0x00007f1442421000)
	libgio-2.0.so.0 => /usr/lib/libgio-2.0.so.0 (0x00007f1442271000)
	libwpe-1.0.so.1 => /usr/lib/libwpe-1.0.so.1 (0x00007f1442267000)
	libWPEBackend-fdo-1.0.so.1 => /usr/lib/libWPEBackend-fdo-1.0.so.1 (0x00007f1442258000)
	libnotify.so.4 => /usr/lib/libnotify.so.4 (0x00007f144224e000)
	libxml2.so.2 => /usr/lib/libxml2.so.2 (0x00007f14420e6000)
	libxslt.so.1 => /usr/lib/libxslt.so.1 (0x00007f14420a5000)
	libsqlite3.so.0 => /usr/lib/libsqlite3.so.0 (0x00007f1441f74000)
	libicui18n.so.65 => /usr/lib/libicui18n.so.65 (0x00007f1441c80000)
	libicuuc.so.65 => /usr/lib/libicuuc.so.65 (0x00007f1441a9e000)
	libwoff2dec.so.1.0.2 => /usr/lib/libwoff2dec.so.1.0.2 (0x00007f1441893000)
	libfontconfig.so.1 => /usr/lib/libfontconfig.so.1 (0x00007f144184a000)
	libfreetype.so.6 => /usr/lib/libfreetype.so.6 (0x00007f144177c000)
	libharfbuzz-icu.so.0 => /usr/lib/libharfbuzz-icu.so.0 (0x00007f1441777000)
	libgcrypt.so.20 => /usr/lib/libgcrypt.so.20 (0x00007f1441659000)
	libgstapp-1.0.so.0 => /usr/lib/libgstapp-1.0.so.0 (0x00007f1441649000)
	libgstbase-1.0.so.0 => /usr/lib/libgstbase-1.0.so.0 (0x00007f14415d9000)
	libgstreamer-1.0.so.0 => /usr/lib/libgstreamer-1.0.so.0 (0x00007f14414c9000)
	libgstpbutils-1.0.so.0 => /usr/lib/libgstpbutils-1.0.so.0 (0x00007f1441493000)
	libgstaudio-1.0.so.0 => /usr/lib/libgstaudio-1.0.so.0 (0x00007f1441421000)
	libgsttag-1.0.so.0 => /usr/lib/libgsttag-1.0.so.0 (0x00007f14413e7000)
	libgstvideo-1.0.so.0 => /usr/lib/libgstvideo-1.0.so.0 (0x00007f1441346000)
	libgstgl-1.0.so.0 => /usr/lib/libgstgl-1.0.so.0 (0x00007f14412da000)
	libgstfft-1.0.so.0 => /usr/lib/libgstfft-1.0.so.0 (0x00007f14412ce000)
	libjpeg.so.8 => /usr/lib/libjpeg.so.8 (0x00007f1441237000)
	libpng16.so.16 => /usr/lib/libpng16.so.16 (0x00007f14411ff000)
	libopenjp2.so.7 => /usr/lib/libopenjp2.so.7 (0x00007f14411a2000)
	libwebp.so.7 => /usr/lib/libwebp.so.7 (0x00007f1441132000)
	libwebpdemux.so.2 => /usr/lib/libwebpdemux.so.2 (0x00007f144112c000)
	libsoup-2.4.so.1 => /usr/lib/libsoup-2.4.so.1 (0x00007f1441091000)
	libenchant-2.so.2 => /usr/lib/libenchant-2.so.2 (0x00007f1441084000)
	libgmodule-2.0.so.0 => /usr/lib/libgmodule-2.0.so.0 (0x00007f144107f000)
	libseccomp.so.2 => /usr/lib/libseccomp.so.2 (0x00007f1441036000)
	libsecret-1.so.0 => /usr/lib/libsecret-1.so.0 (0x00007f1440fd4000)
	libtasn1.so.6 => /usr/lib/libtasn1.so.6 (0x00007f1440fbe000)
	libhyphen.so.0 => /usr/lib/libhyphen.so.0 (0x00007f1440db6000)
	libX11.so.6 => /usr/lib/libX11.so.6 (0x00007f1440c76000)
	libXcomposite.so.1 => /usr/lib/libXcomposite.so.1 (0x00007f1440c71000)
	libXdamage.so.1 => /usr/lib/libXdamage.so.1 (0x00007f1440c6c000)
	libwayland-server.so.0 => /usr/lib/libwayland-server.so.0 (0x00007f1440c56000)
	libwayland-egl.so.1 => /usr/lib/libwayland-egl.so.1 (0x00007f1440c51000)
	libwayland-client.so.0 => /usr/lib/libwayland-client.so.0 (0x00007f1440c3f000)
	libstdc++.so.6 => /usr/lib/libstdc++.so.6 (0x00007f1440a55000)
	libpangocairo-1.0.so.0 => /usr/lib/libpangocairo-1.0.so.0 (0x00007f1440a45000)
	libpangoft2-1.0.so.0 => /usr/lib/libpangoft2-1.0.so.0 (0x00007f1440a2e000)
	libfribidi.so.0 => /usr/lib/libfribidi.so.0 (0x00007f1440a10000)
	libcairo-gobject.so.2 => /usr/lib/libcairo-gobject.so.2 (0x00007f1440a02000)
	libepoxy.so.0 => /usr/lib/libepoxy.so.0 (0x00007f14408d7000)
	libXi.so.6 => /usr/lib/libXi.so.6 (0x00007f14408c4000)
	libatk-bridge-2.0.so.0 => /usr/lib/libatk-bridge-2.0.so.0 (0x00007f1440890000)
	libXfixes.so.3 => /usr/lib/libXfixes.so.3 (0x00007f1440887000)
	libxkbcommon.so.0 => /usr/lib/libxkbcommon.so.0 (0x00007f1440846000)
	libwayland-cursor.so.0 => /usr/lib/libwayland-cursor.so.0 (0x00007f144083b000)
	libXext.so.6 => /usr/lib/libXext.so.6 (0x00007f1440826000)
	libXcursor.so.1 => /usr/lib/libXcursor.so.1 (0x00007f144081a000)
	libXrandr.so.2 => /usr/lib/libXrandr.so.2 (0x00007f144080d000)
	libXinerama.so.1 => /usr/lib/libXinerama.so.1 (0x00007f1440808000)
	libffi.so.6 => /usr/lib/libffi.so.6 (0x00007f14407fb000)
	libpcre.so.1 => /usr/lib/libpcre.so.1 (0x00007f1440788000)
	libGLdispatch.so.0 => /usr/lib/libGLdispatch.so.0 (0x00007f14406d1000)
	libGLX.so.0 => /usr/lib/libGLX.so.0 (0x00007f144069e000)
	libthai.so.0 => /usr/lib/libthai.so.0 (0x00007f1440693000)
	libgraphite2.so.3 => /usr/lib/libgraphite2.so.3 (0x00007f144066c000)
	libpixman-1.so.0 => /usr/lib/libpixman-1.so.0 (0x00007f14405c2000)
	libxcb-shm.so.0 => /usr/lib/libxcb-shm.so.0 (0x00007f14405bd000)
	libxcb.so.1 => /usr/lib/libxcb.so.1 (0x00007f1440593000)
	libxcb-render.so.0 => /usr/lib/libxcb-render.so.0 (0x00007f1440583000)
	libXrender.so.1 => /usr/lib/libXrender.so.1 (0x00007f1440576000)
	libmount.so.1 => /usr/lib/libmount.so.1 (0x00007f1440517000)
	libresolv.so.2 => /usr/lib/libresolv.so.2 (0x00007f14404fe000)
	liblzma.so.5 => /usr/lib/liblzma.so.5 (0x00007f14404d6000)
	libicudata.so.65 => /usr/lib/libicudata.so.65 (0x00007f143ea25000)
	libwoff2common.so.1.0.2 => /usr/lib/libwoff2common.so.1.0.2 (0x00007f143e822000)
	libbrotlidec.so.1 => /usr/lib/libbrotlidec.so.1 (0x00007f143e812000)
	libexpat.so.1 => /usr/lib/libexpat.so.1 (0x00007f143e7e2000)
	libuuid.so.1 => /usr/lib/libuuid.so.1 (0x00007f143e7d9000)
	libbz2.so.1.0 => /usr/lib/libbz2.so.1.0 (0x00007f143e7c6000)
	libgpg-error.so.0 => /usr/lib/libgpg-error.so.0 (0x00007f143e7a3000)
	libunwind.so.8 => /usr/lib/libunwind.so.8 (0x00007f143e787000)
	libdw.so.1 => /usr/lib/libdw.so.1 (0x00007f143e733000)
	liborc-0.4.so.0 => /usr/lib/liborc-0.4.so.0 (0x00007f143e6b1000)
	libgstallocators-1.0.so.0 => /usr/lib/libgstallocators-1.0.so.0 (0x00007f143e6ab000)
	libX11-xcb.so.1 => /usr/lib/libX11-xcb.so.1 (0x00007f143e6a6000)
	libgudev-1.0.so.0 => /usr/lib/libgudev-1.0.so.0 (0x00007f143e697000)
	libdrm.so.2 => /usr/lib/libdrm.so.2 (0x00007f143e682000)
	libgbm.so.1 => /usr/lib/libgbm.so.1 (0x00007f143e671000)
	libgssapi_krb5.so.2 => /usr/lib/libgssapi_krb5.so.2 (0x00007f143e621000)
	libpsl.so.5 => /usr/lib/libpsl.so.5 (0x00007f143e60e000)
	libdbus-1.so.3 => /usr/lib/libdbus-1.so.3 (0x00007f143e5c2000)
	libatspi.so.0 => /usr/lib/libatspi.so.0 (0x00007f143e58b000)
	libdatrie.so.1 => /usr/lib/libdatrie.so.1 (0x00007f143e384000)
	libXau.so.6 => /usr/lib/libXau.so.6 (0x00007f143e37f000)
	libXdmcp.so.6 => /usr/lib/libXdmcp.so.6 (0x00007f143e377000)
	libblkid.so.1 => /usr/lib/libblkid.so.1 (0x00007f143e324000)
	libbrotlicommon.so.1 => /usr/lib/libbrotlicommon.so.1 (0x00007f143e301000)
	libelf.so.1 => /usr/lib/libelf.so.1 (0x00007f143e2e7000)
	libudev.so.1 => /usr/lib/libudev.so.1 (0x00007f143e2bd000)
	libkrb5.so.3 => /usr/lib/libkrb5.so.3 (0x00007f143e1d0000)
	libk5crypto.so.3 => /usr/lib/libk5crypto.so.3 (0x00007f143e19a000)
	libcom_err.so.2 => /usr/lib/libcom_err.so.2 (0x00007f143e194000)
	libkrb5support.so.0 => /usr/lib/libkrb5support.so.0 (0x00007f143e185000)
	libkeyutils.so.1 => /usr/lib/libkeyutils.so.1 (0x00007f143e17e000)
	libunistring.so.2 => /usr/lib/libunistring.so.2 (0x00007f143dffc000)
	libidn2.so.0 => /usr/lib/libidn2.so.0 (0x00007f143dfdb000)
	libsystemd.so.0 => /usr/lib/libsystemd.so.0 (0x00007f143df32000)
	liblz4.so.1 => /usr/lib/liblz4.so.1 (0x00007f143df10000)
```
</details>
<p>File size is 6.6 MB.</p>
<img src="/blog/2020-02-20-tauri/tauri.png" width="900" height="739" alt="undefined">
<h1 id="dockerfile" tabindex="-1">3. Dockerfile <a class="header-anchor" href="#dockerfile" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h1>
<div class="code-block">
    <button type="button" class="copy-to-clipboard">
      <i class="icon icon-copy"></i>
    </button>
    <pre class="language-docker"><code class="language-docker"><span class="highlight-line"><span class="token instruction"><span class="token keyword">FROM</span> ubuntu:19.10</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token instruction"><span class="token keyword">ENV</span> DEBIAN_FRONTEND=noninteractive</span></span>
<span class="highlight-line"><span class="token instruction"><span class="token keyword">ENV</span> TZ=Europe/Berlin</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token comment"># Dev tools</span></span>
<span class="highlight-line"><span class="token instruction"><span class="token keyword">RUN</span> apt-get update &amp;&amp; apt-get install -y libwebkit2gtk-4.0-dev build-essential curl libssl-dev gnupg</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token comment"># Node</span></span>
<span class="highlight-line"><span class="token instruction"><span class="token keyword">RUN</span> curl -sL https://deb.nodesource.com/setup_12.x | bash -</span></span>
<span class="highlight-line"><span class="token instruction"><span class="token keyword">RUN</span> apt-get -y install nodejs</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token comment"># Rust</span></span>
<span class="highlight-line"><span class="token instruction"><span class="token keyword">RUN</span> curl --proto <span class="token string">'=https'</span> --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y</span></span>
<span class="highlight-line"><span class="token instruction"><span class="token keyword">ENV</span> PATH=<span class="token string">"/root/.cargo/bin:${PATH}"</span></span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token comment"># Tauri</span></span>
<span class="highlight-line"><span class="token instruction"><span class="token keyword">RUN</span> cargo install tauri-bundler --force</span></span>
<span class="highlight-line"><span class="token instruction"><span class="token keyword">RUN</span> cargo install tauri-cli --force</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token instruction"><span class="token keyword">RUN</span> npm install --unsafe-perm -g tauri</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /root/app</span></span></code></pre>

    </div><div class="code-block">
    <button type="button" class="copy-to-clipboard">
      <i class="icon icon-copy"></i>
    </button>
    <pre class="language-bash"><code class="language-bash"><span class="highlight-line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> tauri <span class="token builtin class-name">.</span></span></code></pre>

    </div><p>Note on the Dockerfile: I <em>hate</em> the way you have to install node and rust. Running scripts from the web. :/
This should be discouraged.</p>
<p>Tauri at least warns about it in their documentation:</p>
<blockquote>
<p>We have audited this bash script, and it does what it says it is supposed to do. Nevertheless, before blindly curl-bashing a script, it is always wise to look at it first.<br>
<a href="https://github.com/tauri-apps/tauri/wiki/02.-Linux-Setup" class="external-link" target="_blank">github.com/tauri</a></p>
</blockquote>
<p>Their reasoning is pretty...naive at least. They've audited the script <em>once</em>? And now they believe it never changes / cannot be changed afterwards?! ... :(</p>


<script async src="/scripts/index.js"></script>

    </div>
  </body>
</html>
